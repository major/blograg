{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "index",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 10221046222228911146,
    "filename": "index.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/groups/0"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/texts/11"
      },
      {
        "$ref": "#/texts/12"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/texts/14"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/groups/1"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/texts/36"
      },
      {
        "$ref": "#/texts/37"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      },
      {
        "$ref": "#/texts/41"
      },
      {
        "$ref": "#/texts/42"
      },
      {
        "$ref": "#/texts/43"
      },
      {
        "$ref": "#/texts/44"
      },
      {
        "$ref": "#/texts/45"
      },
      {
        "$ref": "#/texts/46"
      },
      {
        "$ref": "#/texts/47"
      },
      {
        "$ref": "#/texts/48"
      },
      {
        "$ref": "#/texts/49"
      },
      {
        "$ref": "#/texts/50"
      },
      {
        "$ref": "#/texts/51"
      },
      {
        "$ref": "#/texts/52"
      },
      {
        "$ref": "#/texts/53"
      },
      {
        "$ref": "#/texts/54"
      },
      {
        "$ref": "#/texts/55"
      },
      {
        "$ref": "#/texts/56"
      },
      {
        "$ref": "#/texts/57"
      },
      {
        "$ref": "#/texts/58"
      },
      {
        "$ref": "#/texts/59"
      },
      {
        "$ref": "#/texts/60"
      },
      {
        "$ref": "#/texts/61"
      },
      {
        "$ref": "#/texts/62"
      },
      {
        "$ref": "#/texts/63"
      },
      {
        "$ref": "#/texts/64"
      },
      {
        "$ref": "#/texts/65"
      },
      {
        "$ref": "#/texts/66"
      },
      {
        "$ref": "#/texts/67"
      },
      {
        "$ref": "#/texts/68"
      },
      {
        "$ref": "#/texts/69"
      },
      {
        "$ref": "#/texts/70"
      },
      {
        "$ref": "#/texts/71"
      },
      {
        "$ref": "#/texts/72"
      },
      {
        "$ref": "#/texts/73"
      },
      {
        "$ref": "#/texts/74"
      },
      {
        "$ref": "#/texts/75"
      },
      {
        "$ref": "#/texts/76"
      },
      {
        "$ref": "#/texts/77"
      },
      {
        "$ref": "#/texts/78"
      },
      {
        "$ref": "#/texts/79"
      },
      {
        "$ref": "#/texts/80"
      },
      {
        "$ref": "#/texts/81"
      },
      {
        "$ref": "#/texts/82"
      },
      {
        "$ref": "#/texts/83"
      },
      {
        "$ref": "#/texts/84"
      },
      {
        "$ref": "#/texts/85"
      },
      {
        "$ref": "#/texts/86"
      },
      {
        "$ref": "#/texts/87"
      },
      {
        "$ref": "#/texts/88"
      },
      {
        "$ref": "#/texts/89"
      },
      {
        "$ref": "#/texts/90"
      },
      {
        "$ref": "#/texts/91"
      },
      {
        "$ref": "#/texts/92"
      },
      {
        "$ref": "#/texts/93"
      },
      {
        "$ref": "#/texts/94"
      },
      {
        "$ref": "#/texts/95"
      },
      {
        "$ref": "#/texts/96"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [
    {
      "self_ref": "#/groups/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/1"
        },
        {
          "$ref": "#/texts/2"
        },
        {
          "$ref": "#/texts/3"
        },
        {
          "$ref": "#/texts/4"
        },
        {
          "$ref": "#/texts/5"
        },
        {
          "$ref": "#/texts/6"
        },
        {
          "$ref": "#/texts/7"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/19"
        },
        {
          "$ref": "#/texts/20"
        },
        {
          "$ref": "#/texts/21"
        },
        {
          "$ref": "#/texts/22"
        },
        {
          "$ref": "#/texts/23"
        },
        {
          "$ref": "#/texts/24"
        },
        {
          "$ref": "#/texts/25"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    }
  ],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "aliases:",
      "text": "aliases:"
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "/2021/11/16/deploy-custom-fedora-35-aws-image-builder/",
      "text": "/2021/11/16/deploy-custom-fedora-35-aws-image-builder/",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "amazon",
      "text": "amazon",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "aws",
      "text": "aws",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "cloud",
      "text": "cloud",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "imagebuilder",
      "text": "imagebuilder",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "fedora",
      "text": "fedora",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "linux",
      "text": "linux",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fedora  reigns supreme as my Linux distribution of choice when I deploy new workloads to public clouds. It gives me a well-tested, modern Linux system with tons of helpful tools.",
      "text": "Fedora  reigns supreme as my Linux distribution of choice when I deploy new workloads to public clouds. It gives me a well-tested, modern Linux system with tons of helpful tools."
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fedora's  cloud images  provide a great base to begin building a cloud deployment, but sometimes I find myself wanting a highly customized image with some features I care about. For example, I may want some packages pre-installed that aren't included with the default cloud image, or I may want certain services stopped or started at boot time.",
      "text": "Fedora's  cloud images  provide a great base to begin building a cloud deployment, but sometimes I find myself wanting a highly customized image with some features I care about. For example, I may want some packages pre-installed that aren't included with the default cloud image, or I may want certain services stopped or started at boot time."
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fortunately, Fedora includes  Image Builder . Image Builder does the hard work of building your image, uploading it to a cloud provider, and then registering that image. It has built-in support for handing AMIs (Amazon Machine Images) at AWS and you can use it as a one-stop-shop for customizing an AMI for your use case.",
      "text": "Fortunately, Fedora includes  Image Builder . Image Builder does the hard work of building your image, uploading it to a cloud provider, and then registering that image. It has built-in support for handing AMIs (Amazon Machine Images) at AWS and you can use it as a one-stop-shop for customizing an AMI for your use case."
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Configure the AWS cli",
      "text": "Configure the AWS cli",
      "level": 1
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Start by installing the ",
      "text": "Start by installing the "
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "awscli",
      "text": "awscli",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " package:",
      "text": " package:"
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo dnf install awscli",
      "text": "$ sudo dnf install awscli",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The cli will need some way to access your AWS account. I usually create an administrative user and attach an administrative policy to the user. This allows me to control my entire account via the cli tool.",
      "text": "The cli will need some way to access your AWS account. I usually create an administrative user and attach an administrative policy to the user. This allows me to control my entire account via the cli tool."
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "\ud83d\udca3  (Note: Although this works well for my simple uses here, be careful using administrative users on large accounts. You may want to be more restrictive with your IAM policies, but that's a topic for a different post.)",
      "text": "\ud83d\udca3  (Note: Although this works well for my simple uses here, be careful using administrative users on large accounts. You may want to be more restrictive with your IAM policies, but that's a topic for a different post.)"
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We start by accessing the  IAM  dashboard in your AWS account. Follow these steps:",
      "text": "We start by accessing the  IAM  dashboard in your AWS account. Follow these steps:"
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Enter a name for your user ",
      "text": "Enter a name for your user ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click the ",
      "text": "Click the ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The next screen shows your  Access key ID  and your  Secret access key . Click  Show  to display your secret access key. Go back to your cli tool and run the configuration command:",
      "text": "The next screen shows your  Access key ID  and your  Secret access key . Click  Show  to display your secret access key. Go back to your cli tool and run the configuration command:"
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws configure --profile personal\nAWS Access Key ID [None]: << enter your access key id here >>\nAWS Secret Access Key [None]:<< enter your secret access key here >>\nDefault region name [None]: us-east-1\nDefault output format [None]:",
      "text": "$ aws configure --profile personal\nAWS Access Key ID [None]: << enter your access key id here >>\nAWS Secret Access Key [None]:<< enter your secret access key here >>\nDefault region name [None]: us-east-1\nDefault output format [None]:",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's verify that the credentials work:",
      "text": "Let's verify that the credentials work:"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws --profile personal sts get-caller-identity\n{\n    \"UserId\": \"xxx\",\n    \"Account\": \"xxx\",\n    \"Arn\": \"arn:aws:iam::xxx:user/desktop-cli\"\n}",
      "text": "$ aws --profile personal sts get-caller-identity\n{\n    \"UserId\": \"xxx\",\n    \"Account\": \"xxx\",\n    \"Arn\": \"arn:aws:iam::xxx:user/desktop-cli\"\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "To avoid typing your profile over and over, just export an environment variable:",
      "text": "To avoid typing your profile over and over, just export an environment variable:"
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ export AWS_PROFILE=personal",
      "text": "$ export AWS_PROFILE=personal",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Preparing permissions for image imports",
      "text": "Preparing permissions for image imports",
      "level": 1
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "When you import images into AWS, some services must take action on your behalf to copy your image from S3 into an EBS snapshot, and then register that snapshot as an AMI. This requires an S3 bucket and some extra permissions for some AWS services.",
      "text": "When you import images into AWS, some services must take action on your behalf to copy your image from S3 into an EBS snapshot, and then register that snapshot as an AMI. This requires an S3 bucket and some extra permissions for some AWS services."
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "First off, let's create an S3 bucket to hold our image:",
      "text": "First off, let's create an S3 bucket to hold our image:"
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws s3 mb s3://image-upload-bucket-blog-post\nmake_bucket: image-upload-bucket-blog-post",
      "text": "$ aws s3 mb s3://image-upload-bucket-blog-post\nmake_bucket: image-upload-bucket-blog-post",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "From here, we follow the  AWS documentation for importing images  with some slight modifications for Image Builder. Save this file as ",
      "text": "From here, we follow the  AWS documentation for importing images  with some slight modifications for Image Builder. Save this file as "
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "trust-policy.json",
      "text": "trust-policy.json",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n      {\n         \"Effect\": \"Allow\",\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\n         \"Action\": \"sts:AssumeRole\",\n         \"Condition\": {\n            \"StringEquals\":{\n               \"sts:Externalid\": \"vmimport\"\n            }\n         }\n      }\n   ]\n}",
      "text": "{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n      {\n         \"Effect\": \"Allow\",\n         \"Principal\": { \"Service\": \"vmie.amazonaws.com\" },\n         \"Action\": \"sts:AssumeRole\",\n         \"Condition\": {\n            \"StringEquals\":{\n               \"sts:Externalid\": \"vmimport\"\n            }\n         }\n      }\n   ]\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now we create the ",
      "text": "Now we create the "
    },
    {
      "self_ref": "#/texts/41",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "vmimport",
      "text": "vmimport",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/42",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " role with the policy that allows AWS to assume this role and import an image:",
      "text": " role with the policy that allows AWS to assume this role and import an image:"
    },
    {
      "self_ref": "#/texts/43",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws iam create-role --role-name vmimport \\\n    --assume-role-policy-document \"file://trust-policy.json\"",
      "text": "$ aws iam create-role --role-name vmimport \\\n    --assume-role-policy-document \"file://trust-policy.json\"",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/44",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We need to set some policy for our new ",
      "text": "We need to set some policy for our new "
    },
    {
      "self_ref": "#/texts/45",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "vmimport",
      "text": "vmimport",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/46",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " role now to limit what AWS is allowed to do in our account. Save the following as ",
      "text": " role now to limit what AWS is allowed to do in our account. Save the following as "
    },
    {
      "self_ref": "#/texts/47",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "role-policy.json",
      "text": "role-policy.json",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/48",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/49",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "{\n   \"Version\":\"2012-10-17\",\n   \"Statement\":[\n      {\n         \"Effect\": \"Allow\",\n         \"Action\": [\n            \"s3:GetBucketLocation\",\n            \"s3:GetObject\",\n            \"s3:ListBucket\"\n         ],\n         \"Resource\": [\n            \"arn:aws:s3:::image-upload-bucket-blog-post\",\n            \"arn:aws:s3:::image-upload-bucket-blog-post/*\"\n         ]\n      },\n      {\n         \"Effect\": \"Allow\",\n         \"Action\": [\n            \"ec2:ModifySnapshotAttribute\",\n            \"ec2:CopySnapshot\",\n            \"ec2:RegisterImage\",\n            \"ec2:Describe*\"\n         ],\n         \"Resource\": \"*\"\n      }\n   ]\n}",
      "text": "{\n   \"Version\":\"2012-10-17\",\n   \"Statement\":[\n      {\n         \"Effect\": \"Allow\",\n         \"Action\": [\n            \"s3:GetBucketLocation\",\n            \"s3:GetObject\",\n            \"s3:ListBucket\"\n         ],\n         \"Resource\": [\n            \"arn:aws:s3:::image-upload-bucket-blog-post\",\n            \"arn:aws:s3:::image-upload-bucket-blog-post/*\"\n         ]\n      },\n      {\n         \"Effect\": \"Allow\",\n         \"Action\": [\n            \"ec2:ModifySnapshotAttribute\",\n            \"ec2:CopySnapshot\",\n            \"ec2:RegisterImage\",\n            \"ec2:Describe*\"\n         ],\n         \"Resource\": \"*\"\n      }\n   ]\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/50",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "\ud83d\uded1 Stop here and change ",
      "text": "\ud83d\uded1 Stop here and change "
    },
    {
      "self_ref": "#/texts/51",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "image-upload-bucket-blog-post",
      "text": "image-upload-bucket-blog-post",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/52",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " to the S3 bucket name that you used in the first step of this section.",
      "text": " to the S3 bucket name that you used in the first step of this section."
    },
    {
      "self_ref": "#/texts/53",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws iam put-role-policy --role-name vmimport --policy-name vmimport \\\n    --policy-document \"file://role-policy.json\"",
      "text": "$ aws iam put-role-policy --role-name vmimport --policy-name vmimport \\\n    --policy-document \"file://role-policy.json\"",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/54",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Image Builder also needs a user that can perform some functions inside AWS to upload and import the image. Let's create a policy for a new user and save it as",
      "text": "Image Builder also needs a user that can perform some functions inside AWS to upload and import the image. Let's create a policy for a new user and save it as"
    },
    {
      "self_ref": "#/texts/55",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "image-builder-policy.json",
      "text": "image-builder-policy.json",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/56",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/57",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"VisualEditor0\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:CreateTags\",\n                \"ec2:RegisterImage\",\n                \"ec2:ImportSnapshot\",\n                \"ec2:DescribeImportSnapshotTasks\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"VisualEditor1\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:PutObject\",\n                \"s3:GetObject\",\n                \"s3:DeleteObject\"\n            ],\n            \"Resource\": \"arn:aws:s3:::image-upload-bucket-blog-post/*\"\n        }\n    ]\n}",
      "text": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"VisualEditor0\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:CreateTags\",\n                \"ec2:RegisterImage\",\n                \"ec2:ImportSnapshot\",\n                \"ec2:DescribeImportSnapshotTasks\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Sid\": \"VisualEditor1\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:PutObject\",\n                \"s3:GetObject\",\n                \"s3:DeleteObject\"\n            ],\n            \"Resource\": \"arn:aws:s3:::image-upload-bucket-blog-post/*\"\n        }\n    ]\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/58",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Add the policy, create a user, and attach the policy to your user:",
      "text": "Add the policy, create a user, and attach the policy to your user:"
    },
    {
      "self_ref": "#/texts/59",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws iam create-policy --policy-name imagebuilder \\\n    --policy-document \"file://image-builder-policy.json\"\n$ aws iam create-user --user-name imagebuilder\n$ aws iam attach-user-policy --user-name imagebuilder \\\n    --policy-arn arn:aws:iam::YOUR_ACCOUNT_NUMBER:policy/imagebuilder",
      "text": "$ aws iam create-policy --policy-name imagebuilder \\\n    --policy-document \"file://image-builder-policy.json\"\n$ aws iam create-user --user-name imagebuilder\n$ aws iam attach-user-policy --user-name imagebuilder \\\n    --policy-arn arn:aws:iam::YOUR_ACCOUNT_NUMBER:policy/imagebuilder",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/60",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The ARN for your IAM policy includes your account number and the ARN should appear after running the ",
      "text": "The ARN for your IAM policy includes your account number and the ARN should appear after running the "
    },
    {
      "self_ref": "#/texts/61",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "create-policy",
      "text": "create-policy",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/62",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " command.",
      "text": " command."
    },
    {
      "self_ref": "#/texts/63",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Install Image Builder",
      "text": "Install Image Builder",
      "level": 1
    },
    {
      "self_ref": "#/texts/64",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "It's no secret that I love good command line tools over graphical interfaces, so we will follow the cli steps for Image Builder in the remainder of this post. Let's start by installing everything we need for Image Builder and starting the socket activation unit:",
      "text": "It's no secret that I love good command line tools over graphical interfaces, so we will follow the cli steps for Image Builder in the remainder of this post. Let's start by installing everything we need for Image Builder and starting the socket activation unit:"
    },
    {
      "self_ref": "#/texts/65",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo dnf install composer-cli osbuild-composer\n$ sudo systemctl enable --now osbuild-composer.socket",
      "text": "$ sudo dnf install composer-cli osbuild-composer\n$ sudo systemctl enable --now osbuild-composer.socket",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/66",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Verify that ",
      "text": "Verify that "
    },
    {
      "self_ref": "#/texts/67",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "osbuild-composer",
      "text": "osbuild-composer",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/68",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " is listening:",
      "text": " is listening:"
    },
    {
      "self_ref": "#/texts/69",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ composer-cli status show\nAPI server status:\n    Database version:   0\n    Database supported: true\n    Schema version:     0\n    API version:        1\n    Backend:            osbuild-composer\n    Build:              NEVRA:osbuild-composer-%{epoch}:37-1.fc35.x86_64",
      "text": "$ composer-cli status show\nAPI server status:\n    Database version:   0\n    Database supported: true\n    Schema version:     0\n    API version:        1\n    Backend:            osbuild-composer\n    Build:              NEVRA:osbuild-composer-%{epoch}:37-1.fc35.x86_64",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/70",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "That was easy!",
      "text": "That was easy!"
    },
    {
      "self_ref": "#/texts/71",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Build and deploy our AMI",
      "text": "Build and deploy our AMI",
      "level": 1
    },
    {
      "self_ref": "#/texts/72",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Image Builder uses specifications called  blueprints . These are TOML files that tell Image Builder how to configure your image. You can configure these in many different ways, but here's the one I'm using for this post:",
      "text": "Image Builder uses specifications called  blueprints . These are TOML files that tell Image Builder how to configure your image. You can configure these in many different ways, but here's the one I'm using for this post:"
    },
    {
      "self_ref": "#/texts/73",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "name = \"major-perfect-f35\"\ndescription = \"Major's perfect Fedora 35 cloud image\"\nversion = \"0.0.1\"\n\n[[packages]]\nname = \"firewalld\"\n\n[[packages]]\nname = \"tmux\"\n\n[[packages]]\nname = \"vim\"\n\n[[packages]]\nname = \"zsh\"\n\n[[customizations.user]]\nname = \"major\"\nkey = \"ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIcfW3YMH2Z6NpRnmy+hPnYVkOcxNWLdn9VmrIEq3H0Ei0qWA8RL6Bw6kBfuxW+UGYn1rrDBjz2BoOunWPP0VRM= major@amdbox\"\nshell = \"/usr/bin/zsh\"\ngroups = [\"wheel\"]\n\n[customizations.timezone]\ntimezone = \"America/Chicago\"\n\n[customizations.firewall.services]\nenabled = [\"ssh\", \"dhcpv6-client\"]\n\n[customizations.services]\nenabled = [\"sshd\", \"firewalld\"]",
      "text": "name = \"major-perfect-f35\"\ndescription = \"Major's perfect Fedora 35 cloud image\"\nversion = \"0.0.1\"\n\n[[packages]]\nname = \"firewalld\"\n\n[[packages]]\nname = \"tmux\"\n\n[[packages]]\nname = \"vim\"\n\n[[packages]]\nname = \"zsh\"\n\n[[customizations.user]]\nname = \"major\"\nkey = \"ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIcfW3YMH2Z6NpRnmy+hPnYVkOcxNWLdn9VmrIEq3H0Ei0qWA8RL6Bw6kBfuxW+UGYn1rrDBjz2BoOunWPP0VRM= major@amdbox\"\nshell = \"/usr/bin/zsh\"\ngroups = [\"wheel\"]\n\n[customizations.timezone]\ntimezone = \"America/Chicago\"\n\n[customizations.firewall.services]\nenabled = [\"ssh\", \"dhcpv6-client\"]\n\n[customizations.services]\nenabled = [\"sshd\", \"firewalld\"]",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/74",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I saved this file as ",
      "text": "I saved this file as "
    },
    {
      "self_ref": "#/texts/75",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "image.toml",
      "text": "image.toml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/76",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ". The next step involves pushing the blueprint and solving the dependencies in the blueprint:",
      "text": ". The next step involves pushing the blueprint and solving the dependencies in the blueprint:"
    },
    {
      "self_ref": "#/texts/77",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ composer-cli blueprints push image.toml\n$ composer-cli blueprints depsolve major-perfect-f35",
      "text": "$ composer-cli blueprints push image.toml\n$ composer-cli blueprints depsolve major-perfect-f35",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/78",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We need some extra configuration to tell Image Builder how to authenticate with AWS. Save this file as ",
      "text": "We need some extra configuration to tell Image Builder how to authenticate with AWS. Save this file as "
    },
    {
      "self_ref": "#/texts/79",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "aws.toml",
      "text": "aws.toml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/80",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/81",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "provider = \"aws\"\n\n[settings]\naccessKeyID = \"YOUR_ACCESS_KEY_ID\"\nsecretAccessKey = \"YOUR_SECRET_ACCESS_KEY\"\nbucket = \"image-upload-bucket-blog-post\"\nregion = \"us-east-1\"\nkey = \"major-perfect-f35\"",
      "text": "provider = \"aws\"\n\n[settings]\naccessKeyID = \"YOUR_ACCESS_KEY_ID\"\nsecretAccessKey = \"YOUR_SECRET_ACCESS_KEY\"\nbucket = \"image-upload-bucket-blog-post\"\nregion = \"us-east-1\"\nkey = \"major-perfect-f35\"",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/82",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Replace the bucket name with your S3 bucket and set an S3 object name in ",
      "text": "Replace the bucket name with your S3 bucket and set an S3 object name in "
    },
    {
      "self_ref": "#/texts/83",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "key",
      "text": "key",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/84",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ". To get your access key and secret access key, run this command:",
      "text": ". To get your access key and secret access key, run this command:"
    },
    {
      "self_ref": "#/texts/85",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws iam create-access-key --user imagebuilder",
      "text": "$ aws iam create-access-key --user imagebuilder",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/86",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Finally, we're ready to tell Image Builder to deploy our image! Run this last command to start the compose:",
      "text": "Finally, we're ready to tell Image Builder to deploy our image! Run this last command to start the compose:"
    },
    {
      "self_ref": "#/texts/87",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "composer-cli compose start major-perfect-f35 ami major-perfect-f35 aws.toml",
      "text": "composer-cli compose start major-perfect-f35 ami major-perfect-f35 aws.toml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/88",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Replace ",
      "text": "Replace "
    },
    {
      "self_ref": "#/texts/89",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "major-perfect-35",
      "text": "major-perfect-35",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/90",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " with the name in your blueprint. Now, follow along in the system journal as your image is deployed:",
      "text": " with the name in your blueprint. Now, follow along in the system journal as your image is deployed:"
    },
    {
      "self_ref": "#/texts/91",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "[AWS] \ud83d\ude80 Uploading image to S3: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\udce5 Importing snapshot from image: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\ude9a Waiting for snapshot to finish importing: import-snap-06bc48cb9779f98d8\n[AWS] \ud83e\uddf9 Deleting image from S3: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\udccb Registering AMI from imported snapshot: snap-02ed2710572b7b94b\n[AWS] \ud83c\udf89 AMI registered: ami-0964ea222b6a6711e",
      "text": "[AWS] \ud83d\ude80 Uploading image to S3: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\udce5 Importing snapshot from image: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\ude9a Waiting for snapshot to finish importing: import-snap-06bc48cb9779f98d8\n[AWS] \ud83e\uddf9 Deleting image from S3: image-upload-bucket-blog-post/major-perfect-f35\n[AWS] \ud83d\udccb Registering AMI from imported snapshot: snap-02ed2710572b7b94b\n[AWS] \ud83c\udf89 AMI registered: ami-0964ea222b6a6711e",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/92",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "(Don't ask me who put all of the emojis in the logging code. \ud83e\udd2d)",
      "text": "(Don't ask me who put all of the emojis in the logging code. \ud83e\udd2d)"
    },
    {
      "self_ref": "#/texts/93",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's verify that our image is fully imported:",
      "text": "Let's verify that our image is fully imported:"
    },
    {
      "self_ref": "#/texts/94",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ aws ec2 describe-images --filters \"Name=tag:Name,Values=major-perfect-f35\"\n{\n    \"Images\": [\n        {\n            \"Architecture\": \"x86_64\",\n            \"CreationDate\": \"2021-11-16T18:12:33.000Z\",\n            \"ImageId\": \"ami-0964ea222b6a6711e\",\n            \"ImageLocation\": \"xxx/major-perfect-f35\",\n            \"ImageType\": \"machine\",\n            \"Public\": false,\n            \"OwnerId\": \"xxx\",\n            \"PlatformDetails\": \"Linux/UNIX\",\n            \"UsageOperation\": \"RunInstances\",\n            \"State\": \"available\",\n            \"BlockDeviceMappings\": [\n                {\n                    \"DeviceName\": \"/dev/sda1\",\n                    \"Ebs\": {\n                        \"DeleteOnTermination\": true,\n                        \"SnapshotId\": \"snap-02ed2710572b7b94b\",\n                        \"VolumeSize\": 6,\n                        \"VolumeType\": \"gp2\",\n                        \"Encrypted\": false\n                    }\n                }\n            ],\n            \"EnaSupport\": true,\n            \"Hypervisor\": \"xen\",\n            \"Name\": \"major-perfect-f35\",\n            \"RootDeviceName\": \"/dev/sda1\",\n            \"RootDeviceType\": \"ebs\",\n            \"Tags\": [\n                {\n                    \"Key\": \"Name\",\n                    \"Value\": \"major-perfect-f35\"\n                }\n            ],\n            \"VirtualizationType\": \"hvm\"\n        }\n    ]\n}",
      "text": "$ aws ec2 describe-images --filters \"Name=tag:Name,Values=major-perfect-f35\"\n{\n    \"Images\": [\n        {\n            \"Architecture\": \"x86_64\",\n            \"CreationDate\": \"2021-11-16T18:12:33.000Z\",\n            \"ImageId\": \"ami-0964ea222b6a6711e\",\n            \"ImageLocation\": \"xxx/major-perfect-f35\",\n            \"ImageType\": \"machine\",\n            \"Public\": false,\n            \"OwnerId\": \"xxx\",\n            \"PlatformDetails\": \"Linux/UNIX\",\n            \"UsageOperation\": \"RunInstances\",\n            \"State\": \"available\",\n            \"BlockDeviceMappings\": [\n                {\n                    \"DeviceName\": \"/dev/sda1\",\n                    \"Ebs\": {\n                        \"DeleteOnTermination\": true,\n                        \"SnapshotId\": \"snap-02ed2710572b7b94b\",\n                        \"VolumeSize\": 6,\n                        \"VolumeType\": \"gp2\",\n                        \"Encrypted\": false\n                    }\n                }\n            ],\n            \"EnaSupport\": true,\n            \"Hypervisor\": \"xen\",\n            \"Name\": \"major-perfect-f35\",\n            \"RootDeviceName\": \"/dev/sda1\",\n            \"RootDeviceType\": \"ebs\",\n            \"Tags\": [\n                {\n                    \"Key\": \"Name\",\n                    \"Value\": \"major-perfect-f35\"\n                }\n            ],\n            \"VirtualizationType\": \"hvm\"\n        }\n    ]\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/95",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go forth and build instances with your new, customized Fedora 35 AMI! \ud83c\udf89",
      "text": "Go forth and build instances with your new, customized Fedora 35 AMI! \ud83c\udf89"
    },
    {
      "self_ref": "#/texts/96",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Photo credit:  Svetlozar Apostolov",
      "text": "Photo credit:  Svetlozar Apostolov"
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}