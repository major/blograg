{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "index",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 14106571060525163235,
    "filename": "index.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/groups/0"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/groups/1"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/texts/14"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/texts/20"
      },
      {
        "$ref": "#/texts/21"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/texts/25"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/texts/36"
      },
      {
        "$ref": "#/texts/37"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [
    {
      "self_ref": "#/groups/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/1"
        },
        {
          "$ref": "#/texts/2"
        },
        {
          "$ref": "#/texts/3"
        },
        {
          "$ref": "#/texts/4"
        },
        {
          "$ref": "#/texts/5"
        },
        {
          "$ref": "#/texts/6"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/10"
        },
        {
          "$ref": "#/texts/11"
        },
        {
          "$ref": "#/texts/12"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    }
  ],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "aliases:",
      "text": "aliases:"
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "/2017/05/18/fixing-openstack-novnc-consoles-that-ignore-keyboard-input/",
      "text": "/2017/05/18/fixing-openstack-novnc-consoles-that-ignore-keyboard-input/",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "kvm",
      "text": "kvm",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "network",
      "text": "network",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "openstack",
      "text": "openstack",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "python",
      "text": "python",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "vnc",
      "text": "vnc",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I opened up a noVNC console to a virtual machine today in my OpenStack cloud but found that the console wouldn't take keyboard input. The  Send Ctrl-Alt-Del  button in the top right of the window worked just fine, but I couldn't type anywhere in the console. This happened on an Ocata OpenStack cloud deployed with  OpenStack-Ansible  on CentOS 7.",
      "text": "I opened up a noVNC console to a virtual machine today in my OpenStack cloud but found that the console wouldn't take keyboard input. The  Send Ctrl-Alt-Del  button in the top right of the window worked just fine, but I couldn't type anywhere in the console. This happened on an Ocata OpenStack cloud deployed with  OpenStack-Ansible  on CentOS 7."
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Test the network path",
      "text": "Test the network path",
      "level": 1
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The network path to the console is a little deep for this deployment, but here's a quick explanation:",
      "text": "The network path to the console is a little deep for this deployment, but here's a quick explanation:"
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "My laptop connects to HAProxy",
      "text": "My laptop connects to HAProxy",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "HAProxy sends the traffic to the nova-novncproxy service",
      "text": "HAProxy sends the traffic to the nova-novncproxy service",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "nova-novncproxy connects to the correct VNC port on the right hypervisor",
      "text": "nova-novncproxy connects to the correct VNC port on the right hypervisor",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "If all of that works, I get a working console! I knew the network path was set up correctly because I could see the console in my browser.",
      "text": "If all of that works, I get a working console! I knew the network path was set up correctly because I could see the console in my browser."
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "My next troubleshooting step was to dump network traffic with ",
      "text": "My next troubleshooting step was to dump network traffic with "
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "tcpdump",
      "text": "tcpdump",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " on the hypervisor itself. I dumped the traffic on port 5900 (which was the VNC port for this particular instance) and watched the output. Whenever I wiggled the mouse over the noVNC console in my browser, I saw a flurry of network traffic. The same thing happened if I punched lots of keys on the keyboard. At this point, it was clear that the keyboard input was making it to the hypervisor, but it wasn't being handled correctly.",
      "text": " on the hypervisor itself. I dumped the traffic on port 5900 (which was the VNC port for this particular instance) and watched the output. Whenever I wiggled the mouse over the noVNC console in my browser, I saw a flurry of network traffic. The same thing happened if I punched lots of keys on the keyboard. At this point, it was clear that the keyboard input was making it to the hypervisor, but it wasn't being handled correctly."
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Test the console",
      "text": "Test the console",
      "level": 1
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Next, I opened up ",
      "text": "Next, I opened up "
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "virt-manager",
      "text": "virt-manager",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ", connected to the hypervisor, and opened a connection to the instance. The keyboard input worked fine there. I opened up ",
      "text": ", connected to the hypervisor, and opened a connection to the instance. The keyboard input worked fine there. I opened up "
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "remmina",
      "text": "remmina",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " and connected via plain old VNC. The keyboard input worked fine there, too!",
      "text": " and connected via plain old VNC. The keyboard input worked fine there, too!"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Investigate in the virtual machine",
      "text": "Investigate in the virtual machine",
      "level": 1
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The system journal in the virtual machine had some interesting output:",
      "text": "The system journal in the virtual machine had some interesting output:"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "kernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key pressed (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key pressed (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.",
      "text": "kernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key pressed (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key pressed (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.\nkernel: atkbd serio0: Unknown key released (translated set 2, code 0x0 on isa0060/serio0).\nkernel: atkbd serio0: Use 'setkeycodes 00 <keycode>' to make it known.",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "It seems like my keyboard input was being lost in translation - literally. I have a US layout keyboard (Thinkpad X1 Carbon) and the virtual machine was configured with the ",
      "text": "It seems like my keyboard input was being lost in translation - literally. I have a US layout keyboard (Thinkpad X1 Carbon) and the virtual machine was configured with the "
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "en-us",
      "text": "en-us",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " keymap:",
      "text": " keymap:"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "# virsh dumpxml 4 | grep vnc\n    <graphics type='vnc' port='5900' autoport='yes' listen='192.168.250.41' keymap='en-us'>",
      "text": "# virsh dumpxml 4 | grep vnc\n    <graphics type='vnc' port='5900' autoport='yes' listen='192.168.250.41' keymap='en-us'>",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "A thorough Googling session revealed that it is  not recommended to set a keymap for virtual machines  in libvirt in most situations. I set the ",
      "text": "A thorough Googling session revealed that it is  not recommended to set a keymap for virtual machines  in libvirt in most situations. I set the "
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "nova_console_keymap",
      "text": "nova_console_keymap",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " variable in ",
      "text": " variable in "
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/openstack_deploy/user_variables.yml",
      "text": "/etc/openstack_deploy/user_variables.yml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " to an empty string:",
      "text": " to an empty string:"
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "nova_console_keymap: ''",
      "text": "nova_console_keymap: ''",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I redeployed the nova service using the OpenStack-Ansible playbooks:",
      "text": "I redeployed the nova service using the OpenStack-Ansible playbooks:"
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "openstack-ansible os-nova-install.yml",
      "text": "openstack-ansible os-nova-install.yml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once that was done, I powered off the virtual machine and powered it back on. (This is needed to ensure that the libvirt changes go into effect for the virtual machine.)",
      "text": "Once that was done, I powered off the virtual machine and powered it back on. (This is needed to ensure that the libvirt changes go into effect for the virtual machine.)"
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Great success!  The keyboard was working in the noVNC console once again!",
      "text": "Great success!  The keyboard was working in the noVNC console once again!"
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Photo credit:  Wikipedia",
      "text": "Photo credit:  Wikipedia"
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}