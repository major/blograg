{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "myfile",
  "origin": {
    "mimetype": "text/html",
    "binary_hash": 15965958532042566663,
    "filename": "myfile.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/texts/1"
      },
      {
        "$ref": "#/texts/2"
      },
      {
        "$ref": "#/groups/0"
      },
      {
        "$ref": "#/texts/4"
      },
      {
        "$ref": "#/texts/5"
      },
      {
        "$ref": "#/texts/6"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/texts/11"
      },
      {
        "$ref": "#/texts/12"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/groups/2"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/texts/20"
      },
      {
        "$ref": "#/texts/21"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/texts/25"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/texts/36"
      },
      {
        "$ref": "#/texts/37"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      },
      {
        "$ref": "#/texts/41"
      },
      {
        "$ref": "#/texts/42"
      },
      {
        "$ref": "#/texts/43"
      },
      {
        "$ref": "#/texts/44"
      },
      {
        "$ref": "#/texts/45"
      },
      {
        "$ref": "#/texts/46"
      },
      {
        "$ref": "#/texts/47"
      },
      {
        "$ref": "#/texts/48"
      },
      {
        "$ref": "#/texts/49"
      },
      {
        "$ref": "#/groups/3"
      },
      {
        "$ref": "#/texts/52"
      },
      {
        "$ref": "#/texts/53"
      },
      {
        "$ref": "#/texts/54"
      },
      {
        "$ref": "#/texts/55"
      },
      {
        "$ref": "#/texts/56"
      },
      {
        "$ref": "#/texts/57"
      },
      {
        "$ref": "#/texts/58"
      },
      {
        "$ref": "#/texts/59"
      },
      {
        "$ref": "#/texts/60"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [
    {
      "self_ref": "#/groups/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/groups/1"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/1",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [
        {
          "$ref": "#/texts/3"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/14"
        },
        {
          "$ref": "#/texts/15"
        },
        {
          "$ref": "#/texts/16"
        },
        {
          "$ref": "#/texts/17"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/3",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/50"
        },
        {
          "$ref": "#/texts/51"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    }
  ],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "As promised in one of my  previous posts  about dual-primary DRBD and OCFS2, I've compiled a step-by-step guide for Fedora. These instructions should be somewhat close to what you would use on CentOS or Red Hat Enterprise Linux. However, CentOS and Red Hat don't provide some of the packages needed, so you will need to use other software repositories like  RPMFusion  or  EPEL .",
      "text": "As promised in one of my  previous posts  about dual-primary DRBD and OCFS2, I've compiled a step-by-step guide for Fedora. These instructions should be somewhat close to what you would use on CentOS or Red Hat Enterprise Linux. However, CentOS and Red Hat don't provide some of the packages needed, so you will need to use other software repositories like  RPMFusion  or  EPEL ."
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "In this guide, I'll be using two Fedora 14 instances in the  Rackspace Cloud  with separate public and private networks. The instances are called server1 and server2 to make things easier to follow.",
      "text": "In this guide, I'll be using two Fedora 14 instances in the  Rackspace Cloud  with separate public and private networks. The instances are called server1 and server2 to make things easier to follow."
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "NOTE: All of the instructions below should be done on both servers unless otherwise specified.",
      "text": "NOTE: All of the instructions below should be done on both servers unless otherwise specified."
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "*First, we need to set up DRBD with two primary nodes. I'll be using loop files for this setup since I don't have access to raw partitions.",
      "text": "*First, we need to set up DRBD with two primary nodes. I'll be using loop files for this setup since I don't have access to raw partitions.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "yum -y install drbd-utils\ndd if=/dev/zero of=/drbd-loop.img bs=1M count=1000",
      "text": "yum -y install drbd-utils\ndd if=/dev/zero of=/drbd-loop.img bs=1M count=1000",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Put this  loop file initialization init script  in /etc/init.d/loop-for-drbd and finish setting it up:",
      "text": "Put this  loop file initialization init script  in /etc/init.d/loop-for-drbd and finish setting it up:"
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "chmod a+x /etc/init.d/loop-for-drbd\nchkconfig loop-for-drbd on\n/etc/init.d/loop-for-drbd start",
      "text": "chmod a+x /etc/init.d/loop-for-drbd\nchkconfig loop-for-drbd on\n/etc/init.d/loop-for-drbd start",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Place this DRBD resource file in",
      "text": "Place this DRBD resource file in"
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/drbd.d/r0.res",
      "text": "/etc/drbd.d/r0.res",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": ". Be sure to adjust the server names and IP addresses for your servers.",
      "text": ". Be sure to adjust the server names and IP addresses for your servers."
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "resource r0 {\n\tmeta-disk internal;\n\tdevice /dev/drbd0;\n\tdisk /dev/loop7;\n\n\tsyncer { rate 1000M; }\n        net {\n                allow-two-primaries;\n                after-sb-0pri discard-zero-changes;\n                after-sb-1pri discard-secondary;\n                after-sb-2pri disconnect;\n        }\n\tstartup { become-primary-on both; }\n\n\ton server1 { address 10.181.76.0:7789; }\n\ton server2 { address 10.181.76.1:7789; }\n}",
      "text": "resource r0 {\n\tmeta-disk internal;\n\tdevice /dev/drbd0;\n\tdisk /dev/loop7;\n\n\tsyncer { rate 1000M; }\n        net {\n                allow-two-primaries;\n                after-sb-0pri discard-zero-changes;\n                after-sb-1pri discard-secondary;\n                after-sb-2pri disconnect;\n        }\n\tstartup { become-primary-on both; }\n\n\ton server1 { address 10.181.76.0:7789; }\n\ton server2 { address 10.181.76.1:7789; }\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "The",
      "text": "The"
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "net",
      "text": "net",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "section is telling DRBD to do the following:",
      "text": "section is telling DRBD to do the following:"
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='allow-two-primaries'>]",
      "text": "[<RawText children='allow-two-primaries'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='after-sb-0pri discard-zero-changes'>]",
      "text": "[<RawText children='after-sb-0pri discard-zero-changes'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='after-sb-1pri discard-secondary'>]",
      "text": "[<RawText children='after-sb-1pri discard-secondary'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='after-sb-2pri disconnect'>]",
      "text": "[<RawText children='after-sb-2pri disconnect'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "If you'd like to read about DRBD split-brain behavior in more detail,  review the documentation .",
      "text": "If you'd like to read about DRBD split-brain behavior in more detail,  review the documentation ."
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "I generally turn off the usage reporting functionality in DRBD within",
      "text": "I generally turn off the usage reporting functionality in DRBD within"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/drbd.d/global_common.conf",
      "text": "/etc/drbd.d/global_common.conf",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "global {\n\tusage-count no;\n}",
      "text": "global {\n\tusage-count no;\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Now we can create the volume and start DRBD:",
      "text": "Now we can create the volume and start DRBD:"
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "drbdadm create-md r0\n/etc/init.d/drbd start && chkconfig drbd on",
      "text": "drbdadm create-md r0\n/etc/init.d/drbd start && chkconfig drbd on",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "You may see some errors thrown about having two primaries but neither are up to date. That can be fixed by running the following command on the  primary node only :",
      "text": "You may see some errors thrown about having two primaries but neither are up to date. That can be fixed by running the following command on the  primary node only :"
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "drbdsetup /dev/drbd0 primary -o",
      "text": "drbdsetup /dev/drbd0 primary -o",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "If you run",
      "text": "If you run"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "cat /proc/drbd",
      "text": "cat /proc/drbd",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "on the secondary node, you should see the DRBD sync running:",
      "text": "on the secondary node, you should see the DRBD sync running:"
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:SyncTarget ro:Secondary/Primary ds:Inconsistent/UpToDate C r----\n    ns:0 nr:210272 dw:210272 dr:0 al:0 bm:12 lo:1 pe:2682 ua:0 ap:0 ep:1 wo:b oos:813660\n        [===>................] sync'ed: 20.8% (813660/1023932)K queue_delay: 0.0 ms\n        finish: 0:01:30 speed: 8,976 (6,368) want: 1024,000 K/sec",
      "text": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:SyncTarget ro:Secondary/Primary ds:Inconsistent/UpToDate C r----\n    ns:0 nr:210272 dw:210272 dr:0 al:0 bm:12 lo:1 pe:2682 ua:0 ap:0 ep:1 wo:b oos:813660\n        [===>................] sync'ed: 20.8% (813660/1023932)K queue_delay: 0.0 ms\n        finish: 0:01:30 speed: 8,976 (6,368) want: 1024,000 K/sec",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Before you go any further, wait for the DRBD sync to fully finish. When it completes, it should look like this:",
      "text": "Before you go any further, wait for the DRBD sync to fully finish. When it completes, it should look like this:"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r----\n    ns:0 nr:1023932 dw:1023932 dr:0 al:0 bm:63 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0",
      "text": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r----\n    ns:0 nr:1023932 dw:1023932 dr:0 al:0 bm:63 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Now,  on the secondary node only  make it a primary node as well:",
      "text": "Now,  on the secondary node only  make it a primary node as well:"
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "drbdadm primary r0",
      "text": "drbdadm primary r0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "You should see this on the secondary node if you've done everything properly:",
      "text": "You should see this on the secondary node if you've done everything properly:"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:Connected ro:Primary/Primary ds:UpToDate/UpToDate C r----\n    ns:1122 nr:1119 dw:2241 dr:4550 al:2 bm:1 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0",
      "text": "version: 8.3.8 (api:88/proto:86-94)\nsrcversion: 299AFE04D7AFD98B3CA0AF9\n 0: cs:Connected ro:Primary/Primary ds:UpToDate/UpToDate C r----\n    ns:1122 nr:1119 dw:2241 dr:4550 al:2 bm:1 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "We're now ready to move on to configuring OCFS2. Only one package is needed:",
      "text": "We're now ready to move on to configuring OCFS2. Only one package is needed:"
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "yum -y install ocfs2-tools",
      "text": "yum -y install ocfs2-tools",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Ensure that you have your servers and their private IP addresses in",
      "text": "Ensure that you have your servers and their private IP addresses in"
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/hosts",
      "text": "/etc/hosts",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/41",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "before proceeding. Create the",
      "text": "before proceeding. Create the"
    },
    {
      "self_ref": "#/texts/42",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/ocfs2",
      "text": "/etc/ocfs2",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/43",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "directory and place the following configuration in",
      "text": "directory and place the following configuration in"
    },
    {
      "self_ref": "#/texts/44",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/ocfs2/cluster.conf",
      "text": "/etc/ocfs2/cluster.conf",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/45",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "(adjust the server names and IP addresses):",
      "text": "(adjust the server names and IP addresses):"
    },
    {
      "self_ref": "#/texts/46",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "cluster:\n\tnode_count = 2\n\tname = web\n\nnode:\n\tip_port = 7777\n\tip_address = 10.181.76.0\n\tnumber = 1\n\tname = server1\n\tcluster = web\n\nnode:\n\tip_port = 7777\n\tip_address = 10.181.76.1\n\tnumber = 2\n\tname = server2\n\tcluster = web",
      "text": "cluster:\n\tnode_count = 2\n\tname = web\n\nnode:\n\tip_port = 7777\n\tip_address = 10.181.76.0\n\tnumber = 1\n\tname = server1\n\tcluster = web\n\nnode:\n\tip_port = 7777\n\tip_address = 10.181.76.1\n\tnumber = 2\n\tname = server2\n\tcluster = web",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/47",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Now it's time to configure OCFS2. Run",
      "text": "Now it's time to configure OCFS2. Run"
    },
    {
      "self_ref": "#/texts/48",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "service o2cb configure",
      "text": "service o2cb configure",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/49",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "and follow the prompts. Use the defaults for all of the responses except for two questions:",
      "text": "and follow the prompts. Use the defaults for all of the responses except for two questions:"
    },
    {
      "self_ref": "#/texts/50",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Answer &#8220;y&#8221; to &#8220;Load O2CB driver on boot&#8221;",
      "text": "Answer &#8220;y&#8221; to &#8220;Load O2CB driver on boot&#8221;",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/51",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Answer &#8220;web&#8221; to &#8220;Cluster to start on boot&#8221;",
      "text": "Answer &#8220;web&#8221; to &#8220;Cluster to start on boot&#8221;",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/52",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Start OCFS2 and enable it at boot up:",
      "text": "Start OCFS2 and enable it at boot up:"
    },
    {
      "self_ref": "#/texts/53",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "chkconfig o2cb on && chkconfig ocfs2 on\n/etc/init.d/o2cb start && /etc/init.d/ocfs2 start",
      "text": "chkconfig o2cb on && chkconfig ocfs2 on\n/etc/init.d/o2cb start && /etc/init.d/ocfs2 start",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/54",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Create an OCFS2 partition  on the primary node only :",
      "text": "Create an OCFS2 partition  on the primary node only :"
    },
    {
      "self_ref": "#/texts/55",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "mkfs.ocfs2 -L \"web\" /dev/drbd0",
      "text": "mkfs.ocfs2 -L \"web\" /dev/drbd0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/56",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "Mount the volumes and configure them to automatically mount at boot time. You might be wondering why I do the mounting within",
      "text": "Mount the volumes and configure them to automatically mount at boot time. You might be wondering why I do the mounting within"
    },
    {
      "self_ref": "#/texts/57",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/rc.local",
      "text": "/etc/rc.local",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/58",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": ". I chose to go that route since mounting via fstab was often unreliable for me due to the incorrect ordering of events at boot time. Using rc.local allows the mounts to work properly upon every reboot.",
      "text": ". I chose to go that route since mounting via fstab was often unreliable for me due to the incorrect ordering of events at boot time. Using rc.local allows the mounts to work properly upon every reboot."
    },
    {
      "self_ref": "#/texts/59",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "mkdir /mnt/storage\necho \"/dev/drbd0  /mnt/storage  ocfs2  noauto,noatime  0 0\" >> /etc/fstab\nmount /dev/drbd0\necho \"mount /dev/drbd0\" >> /etc/rc.local",
      "text": "mkdir /mnt/storage\necho \"/dev/drbd0  /mnt/storage  ocfs2  noauto,noatime  0 0\" >> /etc/fstab\nmount /dev/drbd0\necho \"mount /dev/drbd0\" >> /etc/rc.local",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/60",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "text",
      "prov": [],
      "orig": "At this point, you should be all done. If you want to test OCFS2, copy a file into your /mnt/storage mount on one node and check that it appears on the other node. If you remove it, it should be gone instantly on both nodes. This is a great opportunity to test reboots of both machines to ensure that everything comes up properly at boot time.",
      "text": "At this point, you should be all done. If you want to test OCFS2, copy a file into your /mnt/storage mount on one node and check that it appears on the other node. If you remove it, it should be gone instantly on both nodes. This is a great opportunity to test reboots of both machines to ensure that everything comes up properly at boot time."
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}