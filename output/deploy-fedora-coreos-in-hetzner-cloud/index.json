{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "myfile",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 6337587178351630938,
    "filename": "myfile.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/texts/1"
      },
      {
        "$ref": "#/texts/2"
      },
      {
        "$ref": "#/texts/3"
      },
      {
        "$ref": "#/texts/4"
      },
      {
        "$ref": "#/texts/5"
      },
      {
        "$ref": "#/texts/6"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/texts/11"
      },
      {
        "$ref": "#/texts/12"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/texts/14"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/texts/20"
      },
      {
        "$ref": "#/texts/21"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/texts/25"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/texts/36"
      },
      {
        "$ref": "#/texts/37"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      },
      {
        "$ref": "#/texts/41"
      },
      {
        "$ref": "#/texts/42"
      },
      {
        "$ref": "#/texts/43"
      },
      {
        "$ref": "#/texts/44"
      },
      {
        "$ref": "#/texts/45"
      },
      {
        "$ref": "#/texts/46"
      },
      {
        "$ref": "#/texts/47"
      },
      {
        "$ref": "#/texts/48"
      },
      {
        "$ref": "#/texts/49"
      },
      {
        "$ref": "#/texts/50"
      },
      {
        "$ref": "#/texts/51"
      },
      {
        "$ref": "#/texts/52"
      },
      {
        "$ref": "#/texts/53"
      },
      {
        "$ref": "#/pictures/0"
      },
      {
        "$ref": "#/texts/54"
      },
      {
        "$ref": "#/texts/55"
      },
      {
        "$ref": "#/texts/56"
      },
      {
        "$ref": "#/texts/57"
      },
      {
        "$ref": "#/texts/58"
      },
      {
        "$ref": "#/texts/59"
      },
      {
        "$ref": "#/texts/60"
      },
      {
        "$ref": "#/texts/61"
      },
      {
        "$ref": "#/texts/62"
      },
      {
        "$ref": "#/texts/63"
      },
      {
        "$ref": "#/texts/64"
      },
      {
        "$ref": "#/texts/65"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Hetzner  has always been a reliable and cost-effective hosting company for me for several years. I've run  icanhazip.com  on their dedicated servers and I run several small applications in  their cloud .",
      "text": "Hetzner  has always been a reliable and cost-effective hosting company for me for several years. I've run  icanhazip.com  on their dedicated servers and I run several small applications in  their cloud ."
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "When I run containers, I love using  Fedora CoreOS  for its easy updates and very small server footprint. Almost everything you need for hosting containers is provided right out of the box, but you can add extra packages via rpm-ostree  layers and reboot to use them.",
      "text": "When I run containers, I love using  Fedora CoreOS  for its easy updates and very small server footprint. Almost everything you need for hosting containers is provided right out of the box, but you can add extra packages via rpm-ostree  layers and reboot to use them."
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This post shows you how to deploy Fedora CoreOS in Hetzner's cloud as an inexpensive and efficient method for hosting your container workloads.",
      "text": "This post shows you how to deploy Fedora CoreOS in Hetzner's cloud as an inexpensive and efficient method for hosting your container workloads."
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Roadblocks",
      "text": "Roadblocks",
      "level": 1
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "First off, Hetzner does not offer Fedora CoreOS as one of its cloud base images. That normally wouldn't be a problem, but they don't allow you to upload snapshots or base images, either. Don't worry! We can think creatively and deploy the image via the cloud rescue environment.",
      "text": "First off, Hetzner does not offer Fedora CoreOS as one of its cloud base images. That normally wouldn't be a problem, but they don't allow you to upload snapshots or base images, either. Don't worry! We can think creatively and deploy the image via the cloud rescue environment."
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Another challenge is that  ignition , the CoreOS first boot configuration tool, does not support Hetzner's metadata service at this time. I'm working on a  pull request  to add this support. We can get creative here and embed our ignition configuration inside the instance itself. That's a bit annoying since all of your instances will get the same configuration, but that works out fine for my needs since I mainly care about ssh keys being present.",
      "text": "Another challenge is that  ignition , the CoreOS first boot configuration tool, does not support Hetzner's metadata service at this time. I'm working on a  pull request  to add this support. We can get creative here and embed our ignition configuration inside the instance itself. That's a bit annoying since all of your instances will get the same configuration, but that works out fine for my needs since I mainly care about ssh keys being present."
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Generating ignition configuration",
      "text": "Generating ignition configuration",
      "level": 1
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The ignition configuration allows us to specify ssh keys (and many other possible configurations) for the first boot. First, we start with a really basic butane configuration :",
      "text": "The ignition configuration allows us to specify ssh keys (and many other possible configurations) for the first boot. First, we start with a really basic butane configuration :"
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "# hetzner-coreos.butane\nvariant: fcos\nversion: 1.4.0\npasswd:\n  users:\n    - name: core\n      groups:\n        - wheel\n      ssh_authorized_keys:\n        - ssh-rsa AAAAB3NzaC1y...",
      "text": "# hetzner-coreos.butane\nvariant: fcos\nversion: 1.4.0\npasswd:\n  users:\n    - name: core\n      groups:\n        - wheel\n      ssh_authorized_keys:\n        - ssh-rsa AAAAB3NzaC1y...",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "You can use any username here that you prefer and add your public ssh key. Compile the configuration into an ignition file with butane:",
      "text": "You can use any username here that you prefer and add your public ssh key. Compile the configuration into an ignition file with butane:"
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "butane hetzner-coreos.butane > config.ign",
      "text": "butane hetzner-coreos.butane > config.ign",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Keep this ",
      "text": "Keep this "
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "config.ign",
      "text": "config.ign",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " file handy because we need it before we snapshot our Fedora CoreOS image later.",
      "text": " file handy because we need it before we snapshot our Fedora CoreOS image later."
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Prepare the CoreOS snapshot",
      "text": "Prepare the CoreOS snapshot",
      "level": 1
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Although Hetzner doesn't allow for uploading your own snapshot, you can replace the entire root disk of an instance from the rescue system. From there, we can snapshot the root disk storage and use that as our new base image.",
      "text": "Although Hetzner doesn't allow for uploading your own snapshot, you can replace the entire root disk of an instance from the rescue system. From there, we can snapshot the root disk storage and use that as our new base image."
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Download and install the  hcloud  tool first. Follow the installation instructions to generate an API key and store it on your system.",
      "text": "Download and install the  hcloud  tool first. Follow the installation instructions to generate an API key and store it on your system."
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Start by building a basic Fedora 34 instance where we can deploy the Fedora CoreOS image:",
      "text": "Start by building a basic Fedora 34 instance where we can deploy the Fedora CoreOS image:"
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server create --datacenter nbg1-dc3 --image fedora-34 \\\n    --type cpx11 --name coreos-deployer",
      "text": "$ hcloud server create --datacenter nbg1-dc3 --image fedora-34 \\\n    --type cpx11 --name coreos-deployer",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Activate the rescue system for the instance you just created and reboot into the rescue environment:",
      "text": "Activate the rescue system for the instance you just created and reboot into the rescue environment:"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server enable-rescue coreos-deployer\n1.148s [=================================] 100.00%\nRescue enabled for server 14168423 with root password: xxxxx\n$ hcloud server reboot coreos-deployer\n656ms [==================================] 100.00%\nServer 14168423 rebooted",
      "text": "$ hcloud server enable-rescue coreos-deployer\n1.148s [=================================] 100.00%\nRescue enabled for server 14168423 with root password: xxxxx\n$ hcloud server reboot coreos-deployer\n656ms [==================================] 100.00%\nServer 14168423 rebooted",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Use ssh to log into the rescue environment (user: ",
      "text": "Use ssh to log into the rescue environment (user: "
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "root",
      "text": "root",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ", password provided in the ",
      "text": ", password provided in the "
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "enable-rescue",
      "text": "enable-rescue",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " step). The rescue environment is in a ramdisk and we don't have enough space to build the  coreos-installer  or download a raw disk, but we can get creative and stream the filesystem directly from a Fedora CoreOS image download.",
      "text": " step). The rescue environment is in a ramdisk and we don't have enough space to build the  coreos-installer  or download a raw disk, but we can get creative and stream the filesystem directly from a Fedora CoreOS image download."
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I prefer to live dangerously and I run the testing release, but there are  three releases available for download . Download, decompress, and write the image to the root disk all at once:",
      "text": "I prefer to live dangerously and I run the testing release, but there are  three releases available for download . Download, decompress, and write the image to the root disk all at once:"
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "export COREOS_DISK=\"https://builds.coreos.fedoraproject.org/prod/streams/testing/builds/34.20210821.2.0/x86_64/fedora-coreos-34.20210821.2.0-metal.x86_64.raw.xz\"\ncurl -sL $COREOS_DISK | xz -d | dd of=/dev/sda status=progress",
      "text": "export COREOS_DISK=\"https://builds.coreos.fedoraproject.org/prod/streams/testing/builds/34.20210821.2.0/x86_64/fedora-coreos-34.20210821.2.0-metal.x86_64.raw.xz\"\ncurl -sL $COREOS_DISK | xz -d | dd of=/dev/sda status=progress",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This process should take one or two minutes to complete.",
      "text": "This process should take one or two minutes to complete."
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Embed the ignition configuration",
      "text": "Embed the ignition configuration",
      "level": 1
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We could hop out of rescue now and reboot right into Fedora CoreOS, but we need to provide SSH keys for our instance. The ",
      "text": "We could hop out of rescue now and reboot right into Fedora CoreOS, but we need to provide SSH keys for our instance. The "
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "config.ign",
      "text": "config.ign",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " file we generated in the first section of this post will be deployed as ",
      "text": " file we generated in the first section of this post will be deployed as "
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/ignition/config.ign",
      "text": "/ignition/config.ign",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " in the image.",
      "text": " in the image."
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's find the boot partition:",
      "text": "Let's find the boot partition:"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "# fdisk -l /dev/sda\nDisk /dev/sda: 38.2 GiB, 40961572864 bytes, 80003072 sectors\nDisk model: QEMU HARDDISK\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: gpt\nDisk identifier: 00000000-0000-4000-A000-000000000001\n\nDevice       Start     End Sectors  Size Type\n/dev/sda1     2048    4095    2048    1M BIOS boot\n/dev/sda2     4096  264191  260096  127M EFI System\n/dev/sda3   264192 1050623  786432  384M Linux filesystem   \u00ab boot\n/dev/sda4  1050624 5003230 3952607  1.9G Linux filesystem   \u00ab root",
      "text": "# fdisk -l /dev/sda\nDisk /dev/sda: 38.2 GiB, 40961572864 bytes, 80003072 sectors\nDisk model: QEMU HARDDISK\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: gpt\nDisk identifier: 00000000-0000-4000-A000-000000000001\n\nDevice       Start     End Sectors  Size Type\n/dev/sda1     2048    4095    2048    1M BIOS boot\n/dev/sda2     4096  264191  260096  127M EFI System\n/dev/sda3   264192 1050623  786432  384M Linux filesystem   \u00ab boot\n/dev/sda4  1050624 5003230 3952607  1.9G Linux filesystem   \u00ab root",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Mount the boot partition and deploy the ",
      "text": "Mount the boot partition and deploy the "
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "config.ign",
      "text": "config.ign",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "mount /dev/sda3 /mnt\nmkdir /mnt/ignition\nvi /mnt/ignition/config.ign      \u00ab copy/paste your config.ign from earlier\numount /mnt",
      "text": "mount /dev/sda3 /mnt\nmkdir /mnt/ignition\nvi /mnt/ignition/config.ign      \u00ab copy/paste your config.ign from earlier\numount /mnt",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/41",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's power off the instance to avoid booting it. We want all subsequent boots to be as clean as possible.",
      "text": "Let's power off the instance to avoid booting it. We want all subsequent boots to be as clean as possible."
    },
    {
      "self_ref": "#/texts/42",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "root@rescue ~ # poweroff",
      "text": "root@rescue ~ # poweroff",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/43",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Make the snapshot",
      "text": "Make the snapshot",
      "level": 1
    },
    {
      "self_ref": "#/texts/44",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Create a snapshot from our powered off server:",
      "text": "Create a snapshot from our powered off server:"
    },
    {
      "self_ref": "#/texts/45",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "hcloud server create-image --description fedora-34-coreos \\\n    --type snapshot coreos-deployer",
      "text": "hcloud server create-image --description fedora-34-coreos \\\n    --type snapshot coreos-deployer",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/46",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This usually takes 1-2 minutes. Let's get our image ID:",
      "text": "This usually takes 1-2 minutes. Let's get our image ID:"
    },
    {
      "self_ref": "#/texts/47",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud image list | grep fedora-34-coreos\n46874212   snapshot   -                 fedora-34-coreos   0.96 GB      40 GB       Wed Sep  1 10:07:04 CDT 2021   -",
      "text": "$ hcloud image list | grep fedora-34-coreos\n46874212   snapshot   -                 fedora-34-coreos   0.96 GB      40 GB       Wed Sep  1 10:07:04 CDT 2021   -",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/48",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Boot the instance",
      "text": "Boot the instance",
      "level": 1
    },
    {
      "self_ref": "#/texts/49",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now that we have a snapshot with our ignition configuration embedded in it, let's make a new instance!",
      "text": "Now that we have a snapshot with our ignition configuration embedded in it, let's make a new instance!"
    },
    {
      "self_ref": "#/texts/50",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "hcloud server create --datacenter nbg1-dc3 --image 46874212 --type cpx11 \\\n    --ssh-key personal_servers --name first-coreos-instance",
      "text": "hcloud server create --datacenter nbg1-dc3 --image 46874212 --type cpx11 \\\n    --ssh-key personal_servers --name first-coreos-instance",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/51",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Hetzner normally boots cloud images  really quickly , but it takes a bit longer when booting from snapshots. I assume that they have the common base images cached on most hypervisors so they can provision them really quickly. The delay isn't too bad here: the instances usually take about 90 seconds to boot.",
      "text": "Hetzner normally boots cloud images  really quickly , but it takes a bit longer when booting from snapshots. I assume that they have the common base images cached on most hypervisors so they can provision them really quickly. The delay isn't too bad here: the instances usually take about 90 seconds to boot."
    },
    {
      "self_ref": "#/texts/52",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once it boots, you should see notes from ignition on bootup about your configuration:",
      "text": "Once it boots, you should see notes from ignition on bootup about your configuration:"
    },
    {
      "self_ref": "#/texts/53",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "caption",
      "prov": [],
      "orig": "Fedora CoreOS console",
      "text": "Fedora CoreOS console"
    },
    {
      "self_ref": "#/texts/54",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "2021-09-01-fedora-coreos-console.png",
      "text": "2021-09-01-fedora-coreos-console.png"
    },
    {
      "self_ref": "#/texts/55",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Use ssh to login as the ",
      "text": "Use ssh to login as the "
    },
    {
      "self_ref": "#/texts/56",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "core",
      "text": "core",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/57",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " user:",
      "text": " user:"
    },
    {
      "self_ref": "#/texts/58",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ ssh core@INSTANCE_IP_ADDRESS\nFedora CoreOS 34.20210821.2.0\nTracker: https://github.com/coreos/fedora-coreos-tracker\nDiscuss: https://discussion.fedoraproject.org/c/server/coreos/\n\n[core@localhost ~]$ podman --version\npodman version 3.3.0",
      "text": "$ ssh core@INSTANCE_IP_ADDRESS\nFedora CoreOS 34.20210821.2.0\nTracker: https://github.com/coreos/fedora-coreos-tracker\nDiscuss: https://discussion.fedoraproject.org/c/server/coreos/\n\n[core@localhost ~]$ podman --version\npodman version 3.3.0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/59",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Wrapping up",
      "text": "Wrapping up",
      "level": 1
    },
    {
      "self_ref": "#/texts/60",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now that you have a snapshot made, you can delete your original instance (I called it ",
      "text": "Now that you have a snapshot made, you can delete your original instance (I called it "
    },
    {
      "self_ref": "#/texts/61",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "coreos-deployer",
      "text": "coreos-deployer",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/62",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " above) and just build off that snapshot whenever you need to. That should save you a few Euros per month. \ud83d\udcb8",
      "text": " above) and just build off that snapshot whenever you need to. That should save you a few Euros per month. \ud83d\udcb8"
    },
    {
      "self_ref": "#/texts/63",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once ignition has support for Hetzner's metadata service, the extra step of embedding your configuration won't be needed.",
      "text": "Once ignition has support for Hetzner's metadata service, the extra step of embedding your configuration won't be needed."
    },
    {
      "self_ref": "#/texts/64",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Also, if anyone from Hetzner is reading this post, I'd love to get Fedora CoreOS as one of the options for base images in your cloud! \ud83e\udd17",
      "text": "Also, if anyone from Hetzner is reading this post, I'd love to get Fedora CoreOS as one of the options for base images in your cloud! \ud83e\udd17"
    },
    {
      "self_ref": "#/texts/65",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Photo credit:  Daniel Se\u00dfler on Unsplash",
      "text": "Photo credit:  Daniel Se\u00dfler on Unsplash"
    }
  ],
  "pictures": [
    {
      "self_ref": "#/pictures/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "picture",
      "prov": [],
      "captions": [
        {
          "$ref": "#/texts/53"
        }
      ],
      "references": [],
      "footnotes": [],
      "annotations": []
    }
  ],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}