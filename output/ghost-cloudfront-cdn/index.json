{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "index",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 4728244969158783134,
    "filename": "index.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/groups/0"
      },
      {
        "$ref": "#/texts/6"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/groups/1"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/groups/2"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/groups/3"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/groups/4"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      },
      {
        "$ref": "#/groups/5"
      },
      {
        "$ref": "#/texts/53"
      },
      {
        "$ref": "#/texts/54"
      },
      {
        "$ref": "#/texts/55"
      },
      {
        "$ref": "#/texts/56"
      },
      {
        "$ref": "#/texts/57"
      },
      {
        "$ref": "#/groups/6"
      },
      {
        "$ref": "#/texts/66"
      },
      {
        "$ref": "#/groups/7"
      },
      {
        "$ref": "#/texts/75"
      },
      {
        "$ref": "#/texts/76"
      },
      {
        "$ref": "#/texts/77"
      },
      {
        "$ref": "#/texts/78"
      },
      {
        "$ref": "#/texts/79"
      },
      {
        "$ref": "#/texts/80"
      },
      {
        "$ref": "#/texts/81"
      },
      {
        "$ref": "#/texts/82"
      },
      {
        "$ref": "#/texts/83"
      },
      {
        "$ref": "#/texts/84"
      },
      {
        "$ref": "#/texts/85"
      },
      {
        "$ref": "#/texts/86"
      },
      {
        "$ref": "#/texts/87"
      },
      {
        "$ref": "#/texts/88"
      },
      {
        "$ref": "#/texts/89"
      },
      {
        "$ref": "#/texts/90"
      },
      {
        "$ref": "#/texts/91"
      },
      {
        "$ref": "#/texts/92"
      },
      {
        "$ref": "#/texts/93"
      },
      {
        "$ref": "#/texts/94"
      },
      {
        "$ref": "#/texts/95"
      },
      {
        "$ref": "#/texts/96"
      },
      {
        "$ref": "#/texts/97"
      },
      {
        "$ref": "#/texts/98"
      },
      {
        "$ref": "#/texts/99"
      },
      {
        "$ref": "#/texts/100"
      },
      {
        "$ref": "#/texts/101"
      },
      {
        "$ref": "#/texts/102"
      },
      {
        "$ref": "#/texts/103"
      },
      {
        "$ref": "#/texts/104"
      },
      {
        "$ref": "#/texts/105"
      },
      {
        "$ref": "#/texts/106"
      },
      {
        "$ref": "#/texts/107"
      },
      {
        "$ref": "#/texts/108"
      },
      {
        "$ref": "#/texts/109"
      },
      {
        "$ref": "#/texts/110"
      },
      {
        "$ref": "#/texts/111"
      },
      {
        "$ref": "#/texts/112"
      },
      {
        "$ref": "#/texts/113"
      },
      {
        "$ref": "#/texts/114"
      },
      {
        "$ref": "#/texts/115"
      },
      {
        "$ref": "#/texts/116"
      },
      {
        "$ref": "#/texts/117"
      },
      {
        "$ref": "#/groups/8"
      },
      {
        "$ref": "#/texts/120"
      },
      {
        "$ref": "#/texts/121"
      },
      {
        "$ref": "#/groups/9"
      },
      {
        "$ref": "#/texts/125"
      },
      {
        "$ref": "#/texts/126"
      },
      {
        "$ref": "#/texts/127"
      },
      {
        "$ref": "#/texts/128"
      },
      {
        "$ref": "#/texts/129"
      },
      {
        "$ref": "#/texts/130"
      },
      {
        "$ref": "#/texts/131"
      },
      {
        "$ref": "#/texts/132"
      },
      {
        "$ref": "#/texts/133"
      },
      {
        "$ref": "#/texts/134"
      },
      {
        "$ref": "#/texts/135"
      },
      {
        "$ref": "#/texts/136"
      },
      {
        "$ref": "#/texts/137"
      },
      {
        "$ref": "#/texts/138"
      },
      {
        "$ref": "#/texts/139"
      },
      {
        "$ref": "#/texts/140"
      },
      {
        "$ref": "#/texts/141"
      },
      {
        "$ref": "#/texts/142"
      },
      {
        "$ref": "#/texts/143"
      },
      {
        "$ref": "#/texts/144"
      },
      {
        "$ref": "#/texts/145"
      },
      {
        "$ref": "#/texts/146"
      },
      {
        "$ref": "#/texts/147"
      },
      {
        "$ref": "#/texts/148"
      },
      {
        "$ref": "#/texts/149"
      },
      {
        "$ref": "#/texts/150"
      },
      {
        "$ref": "#/texts/151"
      },
      {
        "$ref": "#/texts/152"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [
    {
      "self_ref": "#/groups/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/1"
        },
        {
          "$ref": "#/texts/2"
        },
        {
          "$ref": "#/texts/3"
        },
        {
          "$ref": "#/texts/4"
        },
        {
          "$ref": "#/texts/5"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/11"
        },
        {
          "$ref": "#/texts/12"
        },
        {
          "$ref": "#/texts/13"
        },
        {
          "$ref": "#/texts/14"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    },
    {
      "self_ref": "#/groups/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/20"
        },
        {
          "$ref": "#/texts/21"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/3",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/25"
        },
        {
          "$ref": "#/texts/26"
        },
        {
          "$ref": "#/texts/27"
        },
        {
          "$ref": "#/texts/28"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    },
    {
      "self_ref": "#/groups/4",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/36"
        },
        {
          "$ref": "#/texts/37"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/5",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/41"
        },
        {
          "$ref": "#/texts/42"
        },
        {
          "$ref": "#/texts/43"
        },
        {
          "$ref": "#/texts/44"
        },
        {
          "$ref": "#/texts/45"
        },
        {
          "$ref": "#/texts/46"
        },
        {
          "$ref": "#/texts/47"
        },
        {
          "$ref": "#/texts/48"
        },
        {
          "$ref": "#/texts/49"
        },
        {
          "$ref": "#/texts/50"
        },
        {
          "$ref": "#/texts/51"
        },
        {
          "$ref": "#/texts/52"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    },
    {
      "self_ref": "#/groups/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/58"
        },
        {
          "$ref": "#/texts/59"
        },
        {
          "$ref": "#/texts/60"
        },
        {
          "$ref": "#/texts/61"
        },
        {
          "$ref": "#/texts/62"
        },
        {
          "$ref": "#/texts/63"
        },
        {
          "$ref": "#/texts/64"
        },
        {
          "$ref": "#/texts/65"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    },
    {
      "self_ref": "#/groups/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/67"
        },
        {
          "$ref": "#/texts/68"
        },
        {
          "$ref": "#/texts/69"
        },
        {
          "$ref": "#/texts/70"
        },
        {
          "$ref": "#/texts/71"
        },
        {
          "$ref": "#/texts/72"
        },
        {
          "$ref": "#/texts/73"
        },
        {
          "$ref": "#/texts/74"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    },
    {
      "self_ref": "#/groups/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/118"
        },
        {
          "$ref": "#/texts/119"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    },
    {
      "self_ref": "#/groups/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/122"
        },
        {
          "$ref": "#/texts/123"
        },
        {
          "$ref": "#/texts/124"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "list"
    }
  ],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "author: Major Hayden date: '2023-07-03' Adding an AWS CloudFront CDN distribution to a Ghost blog improves response times on an already fast blogging platform and increases security along the way. \u26a1 tags:",
      "text": "author: Major Hayden date: '2023-07-03' Adding an AWS CloudFront CDN distribution to a Ghost blog improves response times on an already fast blogging platform and increases security along the way. \u26a1 tags:"
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "aws",
      "text": "aws",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "cdn",
      "text": "cdn",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "cloudfront",
      "text": "cloudfront",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "ghost",
      "text": "ghost",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "ssl",
      "text": "ssl",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "After I launched my new  stock market blog  on a self-hosted  Ghost , I wrote up the  deployment process  in containers last week. Then I had a shower thought:  How do I put a CDN in front of that?",
      "text": "After I launched my new  stock market blog  on a self-hosted  Ghost , I wrote up the  deployment process  in containers last week. Then I had a shower thought:  How do I put a CDN in front of that?"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This blog is back on an  S3 + CloudFront deployment  at AWS and I figured CloudFront could work well for a self-hosted Ghost blog, too.",
      "text": "This blog is back on an  S3 + CloudFront deployment  at AWS and I figured CloudFront could work well for a self-hosted Ghost blog, too."
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "There are  tons  of blog posts out there that have outdated processes or only show you how to do one piece of the CDN deployment for Ghost. I read most of them and cobbled together a working deployment. Read on to learn how to do this yourself!",
      "text": "There are  tons  of blog posts out there that have outdated processes or only show you how to do one piece of the CDN deployment for Ghost. I read most of them and cobbled together a working deployment. Read on to learn how to do this yourself!"
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Why add a CDN?",
      "text": "Why add a CDN?"
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Content Delivery Networks (CDN) enhance websites by doing a combination of different things:",
      "text": "Content Delivery Networks (CDN) enhance websites by doing a combination of different things:"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='High throughput content delivery.'>]",
      "text": "[<RawText children='High throughput content delivery.'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Cached content.'>]",
      "text": "[<RawText children='Cached content.'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Content closer to consumers.'>]",
      "text": "[<RawText children='Content closer to consumers.'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/groups/1"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Improved security.'>]",
      "text": "[<RawText children='Improved security.'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "CDNs have trade-offs, though. They're complicated.",
      "text": "CDNs have trade-offs, though. They're complicated."
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "They often require lots of DNS changes. TLS certificates remain a challenge. Caching solves lots of problems but can create headaches in a flash. A misconfiguration at the CDN level can take down your site or prevent it from operating properly for longer periods of time.",
      "text": "They often require lots of DNS changes. TLS certificates remain a challenge. Caching solves lots of problems but can create headaches in a flash. A misconfiguration at the CDN level can take down your site or prevent it from operating properly for longer periods of time."
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Careful planning helps a lot!  Measure twice, cut once.",
      "text": "Careful planning helps a lot!  Measure twice, cut once."
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "AWS terminology",
      "text": "AWS terminology"
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The names of various AWS services often confuse me, but here's what we need for this project:",
      "text": "The names of various AWS services often confuse me, but here's what we need for this project:"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='AWS Certificate Manager:'>]",
      "text": "[<RawText children='AWS Certificate Manager:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/groups/2"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='AWS CloudFront:'>]",
      "text": "[<RawText children='AWS CloudFront:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "CloudFront has a concept of  distributions , which is a single configuration of the CDN for a particular site. We will get to that in the CloudFront section. \ud83d\ude09",
      "text": "CloudFront has a concept of  distributions , which is a single configuration of the CDN for a particular site. We will get to that in the CloudFront section. \ud83d\ude09"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Certificates",
      "text": "Certificates"
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "First off, we need a certificate for TLS connections. Run over to the  AWS Certificate Manager (ACM) console  for your preferred region and follow these steps:",
      "text": "First off, we need a certificate for TLS connections. Run over to the  AWS Certificate Manager (ACM) console  for your preferred region and follow these steps:"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click the orange ",
      "text": "Click the orange ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Request a public certificate on the next page and click ",
      "text": "Request a public certificate on the next page and click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Type in the domain for your certificate that your users will type to access your site.",
      "text": "Type in the domain for your certificate that your users will type to access your site.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/groups/3"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "You should be back to your certificate list. Refresh the page by clicking on the circle with the arrow at the top right. Click on the certificate for the domain name you just added.",
      "text": "You should be back to your certificate list. Refresh the page by clicking on the circle with the arrow at the top right. Click on the certificate for the domain name you just added."
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "In the second detail block labeled  Details , look for the CNAME name and value at the far right. You need to set both of these wherever you host your DNS records. If you use AWS Route 53 for DNS, there's a button you can click there to do it immediately. If you use another DNS provider, create a CNAME record with the exact text shown there.",
      "text": "In the second detail block labeled  Details , look for the CNAME name and value at the far right. You need to set both of these wherever you host your DNS records. If you use AWS Route 53 for DNS, there's a button you can click there to do it immediately. If you use another DNS provider, create a CNAME record with the exact text shown there."
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once you create those DNS records, go back to the page with your certificate and wait for it to change from  Pending validation  to  Issued . This normally takes 2-3 minutes for most DNS providers I use.",
      "text": "Once you create those DNS records, go back to the page with your certificate and wait for it to change from  Pending validation  to  Issued . This normally takes 2-3 minutes for most DNS providers I use."
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "{{< alert >}} Wait for this to turn green and say  Issued  before proceeding to the next step! {{< /alert >}}",
      "text": "{{< alert >}} Wait for this to turn green and say  Issued  before proceeding to the next step! {{< /alert >}}"
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now that you have a certificate, it's time to configure our CDN distribution.",
      "text": "Now that you have a certificate, it's time to configure our CDN distribution."
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "CloudFront",
      "text": "CloudFront"
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now comes the fun, but complicated part. You have two DNS records to think about here:",
      "text": "Now comes the fun, but complicated part. You have two DNS records to think about here:"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/groups/4"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "The CDN DNS record that users will type to access your site, such as ",
      "text": "The CDN DNS record that users will type to access your site, such as ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/groups/4"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "The origin DNS record that the CDN will use to access your backend Ghost blog, such as ",
      "text": "The origin DNS record that the CDN will use to access your backend Ghost blog, such as ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The  origin  record will be hidden away behind the CDN when we're done.",
      "text": "The  origin  record will be hidden away behind the CDN when we're done."
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Create the distribution",
      "text": "Create the distribution",
      "level": 1
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go to the  CloudFront console  in your preferred region and follow these steps:",
      "text": "Go to the  CloudFront console  in your preferred region and follow these steps:"
    },
    {
      "self_ref": "#/texts/41",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/42",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Put your origin (hidden) domain in ",
      "text": "Put your origin (hidden) domain in ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/43",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Skip down to ",
      "text": "Skip down to ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/44",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Compress objects automatically:'>]",
      "text": "[<RawText children='Compress objects automatically:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/45",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Viewer protocol policy:'>]",
      "text": "[<RawText children='Viewer protocol policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/46",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Allowed HTTP methods:'>]",
      "text": "[<RawText children='Allowed HTTP methods:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/47",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Cache policy:'>]",
      "text": "[<RawText children='Cache policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/48",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Origin request policy:'>]",
      "text": "[<RawText children='Origin request policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/49",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='WAF'>]",
      "text": "[<RawText children='WAF'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/50",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Alternate domain name (CNAME):'>]",
      "text": "[<RawText children='Alternate domain name (CNAME):'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/51",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Custom SSL certificate:'>]",
      "text": "[<RawText children='Custom SSL certificate:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/52",
      "parent": {
        "$ref": "#/groups/5"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/53",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This can take up to 10 minutes to deploy once you're finished. At this point, we have an aggressive caching policy that will cause problems when members attempt to sign in or manage their membership. It will also break the Ghost administrative area.",
      "text": "This can take up to 10 minutes to deploy once you're finished. At this point, we have an aggressive caching policy that will cause problems when members attempt to sign in or manage their membership. It will also break the Ghost administrative area."
    },
    {
      "self_ref": "#/texts/54",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's fix that next.",
      "text": "Let's fix that next."
    },
    {
      "self_ref": "#/texts/55",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Adjust caching",
      "text": "Adjust caching",
      "level": 1
    },
    {
      "self_ref": "#/texts/56",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Find the CloudFront distribution we just created and click the  Behaviors  tab. We are going to make three different sets of behavior configurations to handle the dynamic pages.",
      "text": "Find the CloudFront distribution we just created and click the  Behaviors  tab. We are going to make three different sets of behavior configurations to handle the dynamic pages."
    },
    {
      "self_ref": "#/texts/57",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Click  Create Behavior  and do the following:",
      "text": "Click  Create Behavior  and do the following:"
    },
    {
      "self_ref": "#/texts/58",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Enter ",
      "text": "Enter ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/59",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Choose the origin from the drop down that you specified when creating the distribution.",
      "text": "Choose the origin from the drop down that you specified when creating the distribution.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/60",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Compress objects automatically:'>]",
      "text": "[<RawText children='Compress objects automatically:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/61",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Viewer protocol policy:'>]",
      "text": "[<RawText children='Viewer protocol policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/62",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Allowed HTTP methods:'>]",
      "text": "[<RawText children='Allowed HTTP methods:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/63",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Cache policy:'>]",
      "text": "[<RawText children='Cache policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/64",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Origin request policy:'>]",
      "text": "[<RawText children='Origin request policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/65",
      "parent": {
        "$ref": "#/groups/6"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/66",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "That takes care of the administrative interface. Now let's fix the caching on the members page:",
      "text": "That takes care of the administrative interface. Now let's fix the caching on the members page:"
    },
    {
      "self_ref": "#/texts/67",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Enter ",
      "text": "Enter ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/68",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Choose the origin from the drop down that you specified when creating the distribution.",
      "text": "Choose the origin from the drop down that you specified when creating the distribution.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/69",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Compress objects automatically:'>]",
      "text": "[<RawText children='Compress objects automatically:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/70",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Viewer protocol policy:'>]",
      "text": "[<RawText children='Viewer protocol policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/71",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Allowed HTTP methods:'>]",
      "text": "[<RawText children='Allowed HTTP methods:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/72",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Cache policy:'>]",
      "text": "[<RawText children='Cache policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/73",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "[<RawText children='Origin request policy:'>]",
      "text": "[<RawText children='Origin request policy:'>]",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/74",
      "parent": {
        "$ref": "#/groups/7"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Click ",
      "text": "Click ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/75",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "With this configuration, we have caching for all content except for the administrative and member interfaces.",
      "text": "With this configuration, we have caching for all content except for the administrative and member interfaces."
    },
    {
      "self_ref": "#/texts/76",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Testing",
      "text": "Testing"
    },
    {
      "self_ref": "#/texts/77",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "There are a few different ways to test at this point, but I prefer to go with an old tried and true method: the ",
      "text": "There are a few different ways to test at this point, but I prefer to go with an old tried and true method: the "
    },
    {
      "self_ref": "#/texts/78",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/hosts",
      "text": "/etc/hosts",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/79",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " file. \ud83d\ude1c",
      "text": " file. \ud83d\ude1c"
    },
    {
      "self_ref": "#/texts/80",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "CloudFront offers a domain name on ",
      "text": "CloudFront offers a domain name on "
    },
    {
      "self_ref": "#/texts/81",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "*.cloudfront.net",
      "text": "*.cloudfront.net",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/82",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " that you can use, but it's not quite the same. Cookies for the admin/member interface don't always work since they cross domains and sometimes you're redirected back to the original domain name which bypasses the CDN altogether.",
      "text": " that you can use, but it's not quite the same. Cookies for the admin/member interface don't always work since they cross domains and sometimes you're redirected back to the original domain name which bypasses the CDN altogether."
    },
    {
      "self_ref": "#/texts/83",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go back to the list of distributions in your  CloudFront console  in your preferred region. Click on the distribution you created earlier. At the top left, you'll see  Distribution domain name  with a domain underneath that contains ",
      "text": "Go back to the list of distributions in your  CloudFront console  in your preferred region. Click on the distribution you created earlier. At the top left, you'll see  Distribution domain name  with a domain underneath that contains "
    },
    {
      "self_ref": "#/texts/84",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "random_text.cloudfront.net",
      "text": "random_text.cloudfront.net",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/85",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ".",
      "text": "."
    },
    {
      "self_ref": "#/texts/86",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Take that domain name and get an IPv4 address:",
      "text": "Take that domain name and get an IPv4 address:"
    },
    {
      "self_ref": "#/texts/87",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ dig +short A d2xznlk9a1h8zn.cloudfront.net \n18.161.156.2\n18.161.156.18\n18.161.156.61\n18.161.156.9",
      "text": "$ dig +short A d2xznlk9a1h8zn.cloudfront.net \n18.161.156.2\n18.161.156.18\n18.161.156.61\n18.161.156.9",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/88",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Open ",
      "text": "Open "
    },
    {
      "self_ref": "#/texts/89",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/hosts",
      "text": "/etc/hosts",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/90",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " in your favorite editor (root access required) and use one of the IP addresses that correspond to your CDN endpoint. Add a line like this one (using your CDN domain and IPv4 address from the last step):",
      "text": " in your favorite editor (root access required) and use one of the IP addresses that correspond to your CDN endpoint. Add a line like this one (using your CDN domain and IPv4 address from the last step):"
    },
    {
      "self_ref": "#/texts/91",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "18.161.156.2     example.com",
      "text": "18.161.156.2     example.com",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/92",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Access your site in a browser and verify that everything works. Be sure that you can access the administrative console under ",
      "text": "Access your site in a browser and verify that everything works. Be sure that you can access the administrative console under "
    },
    {
      "self_ref": "#/texts/93",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "example.com/ghost",
      "text": "example.com/ghost",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/94",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " and any member settings.",
      "text": " and any member settings."
    },
    {
      "self_ref": "#/texts/95",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "\ufe0fRemove the line in ",
      "text": "\ufe0fRemove the line in "
    },
    {
      "self_ref": "#/texts/96",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "/etc/hosts",
      "text": "/etc/hosts",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/97",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " now that we're finished with testing.",
      "text": " now that we're finished with testing."
    },
    {
      "self_ref": "#/texts/98",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Production",
      "text": "Production"
    },
    {
      "self_ref": "#/texts/99",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Our first step is to set up the origin.",
      "text": "Our first step is to set up the origin."
    },
    {
      "self_ref": "#/texts/100",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Origin configuration",
      "text": "Origin configuration",
      "level": 1
    },
    {
      "self_ref": "#/texts/101",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Ensure your origin server has a proper DNS record so that CloudFront can access it on the backend. For example, ",
      "text": "Ensure your origin server has a proper DNS record so that CloudFront can access it on the backend. For example, "
    },
    {
      "self_ref": "#/texts/102",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "origin.example.com",
      "text": "origin.example.com",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/103",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " must have a DNS record that points to your backend server running Ghost.",
      "text": " must have a DNS record that points to your backend server running Ghost."
    },
    {
      "self_ref": "#/texts/104",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "{{< alert >}} Verify that the DNS record for your origin works before proceeding. \ud83d\udca3 {{< /alert >}}",
      "text": "{{< alert >}} Verify that the DNS record for your origin works before proceeding. \ud83d\udca3 {{< /alert >}}"
    },
    {
      "self_ref": "#/texts/105",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "If you followed my  guide for deploying Ghost , then you need to adjust your caddy configuration to answer requests to your origin URL. I updated my Caddyfile to contain both the origin and CDN hostnames:",
      "text": "If you followed my  guide for deploying Ghost , then you need to adjust your caddy configuration to answer requests to your origin URL. I updated my Caddyfile to contain both the origin and CDN hostnames:"
    },
    {
      "self_ref": "#/texts/106",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "{\n    email major@mhtx.net\n}\nthetanerd.com, origin.thetanerd.com {\n    reverse_proxy ghost:2368\n    log {\n        output stderr\n        format console\n    }\n}\n\nwww.thetanerd.com {\n    redir https://thetanerd.com{uri}\n}",
      "text": "{\n    email major@mhtx.net\n}\nthetanerd.com, origin.thetanerd.com {\n    reverse_proxy ghost:2368\n    log {\n        output stderr\n        format console\n    }\n}\n\nwww.thetanerd.com {\n    redir https://thetanerd.com{uri}\n}",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/107",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Restart caddy with ",
      "text": "Restart caddy with "
    },
    {
      "self_ref": "#/texts/108",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "sudo docker-compose restart caddy",
      "text": "sudo docker-compose restart caddy",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/109",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ".",
      "text": "."
    },
    {
      "self_ref": "#/texts/110",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "{{< alert >}} Verify that caddy responds to requests  to the origin hostname  before going any further. It must respond properly with a valid SSL/TLS certificate! \ud83d\udca3 {{< /alert >}}",
      "text": "{{< alert >}} Verify that caddy responds to requests  to the origin hostname  before going any further. It must respond properly with a valid SSL/TLS certificate! \ud83d\udca3 {{< /alert >}}"
    },
    {
      "self_ref": "#/texts/111",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Big switch",
      "text": "Big switch",
      "level": 1
    },
    {
      "self_ref": "#/texts/112",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now that our origin server is happy and responding, it's time to make the big switch. We're going to remove the record for the main CDN domain, such as ",
      "text": "Now that our origin server is happy and responding, it's time to make the big switch. We're going to remove the record for the main CDN domain, such as "
    },
    {
      "self_ref": "#/texts/113",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "example.com",
      "text": "example.com",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/114",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " and replace it with a CNAME or ALIAS record to the CDN name in CloudFront. This is the name that ends in ",
      "text": " and replace it with a CNAME or ALIAS record to the CDN name in CloudFront. This is the name that ends in "
    },
    {
      "self_ref": "#/texts/115",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "cloudfront.net",
      "text": "cloudfront.net",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/116",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " that we used for testing earlier.",
      "text": " that we used for testing earlier."
    },
    {
      "self_ref": "#/texts/117",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The use of a CNAME or ALIAS record depends on your DNS host and the type of domain name you're using for the CDN.",
      "text": "The use of a CNAME or ALIAS record depends on your DNS host and the type of domain name you're using for the CDN."
    },
    {
      "self_ref": "#/texts/118",
      "parent": {
        "$ref": "#/groups/8"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "If you're using apex domain name (no subdomain) such as ",
      "text": "If you're using apex domain name (no subdomain) such as ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/119",
      "parent": {
        "$ref": "#/groups/8"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "For domain names with a subdomain, such as ",
      "text": "For domain names with a subdomain, such as ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/120",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "{{< alert >}} Read your DNS host's documentation if you are unsure about ALIAS vs CNAME records! \ud83d\udca3 {{< /alert >}}",
      "text": "{{< alert >}} Read your DNS host's documentation if you are unsure about ALIAS vs CNAME records! \ud83d\udca3 {{< /alert >}}"
    },
    {
      "self_ref": "#/texts/121",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go your DNS registrar and follow these steps:",
      "text": "Go your DNS registrar and follow these steps:"
    },
    {
      "self_ref": "#/texts/122",
      "parent": {
        "$ref": "#/groups/9"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Screenshot your existing DNS records or export them if possible (in case you need to revert).",
      "text": "Screenshot your existing DNS records or export them if possible (in case you need to revert).",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/123",
      "parent": {
        "$ref": "#/groups/9"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Remove the existing A/AAAA/CNAME/ALIAS record(s) for your main domain name, such as ",
      "text": "Remove the existing A/AAAA/CNAME/ALIAS record(s) for your main domain name, such as ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/124",
      "parent": {
        "$ref": "#/groups/9"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "Immediately add a CNAME/ALIAS record from ",
      "text": "Immediately add a CNAME/ALIAS record from ",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/125",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once that's done, I usually run ",
      "text": "Once that's done, I usually run "
    },
    {
      "self_ref": "#/texts/126",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "curl",
      "text": "curl",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/127",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " in a terminal to watch for the changeover with ",
      "text": " in a terminal to watch for the changeover with "
    },
    {
      "self_ref": "#/texts/128",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "watch curl -si https://example.com",
      "text": "watch curl -si https://example.com",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/129",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ". When CloudFront is handling your traffic you'll see headers like these:",
      "text": ". When CloudFront is handling your traffic you'll see headers like these:"
    },
    {
      "self_ref": "#/texts/130",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "HTTP/2 200 \ncontent-type: text/html; charset=utf-8\ncache-control: public, max-age=0\ndate: Mon, 03 Jul 2023 19:44:55 GMT\nserver: Caddy\nx-powered-by: Express\netag: W/\"19e7b-q5fZSjf8acC7o9lhdO5R+jOASfM\"\nvary: Accept-Encoding\nx-cache: Miss from cloudfront\nvia: 1.1 b2ba542a917451d9d85e07dba0cfd9a4.cloudfront.net (CloudFront)\nx-amz-cf-pop: DFW57-P2\nx-amz-cf-id: Tpcjk886L0xAZzOjuUP-js_7-twE7ZGDZKlkmGHNTjW8hEs7oOWaLg==",
      "text": "HTTP/2 200 \ncontent-type: text/html; charset=utf-8\ncache-control: public, max-age=0\ndate: Mon, 03 Jul 2023 19:44:55 GMT\nserver: Caddy\nx-powered-by: Express\netag: W/\"19e7b-q5fZSjf8acC7o9lhdO5R+jOASfM\"\nvary: Accept-Encoding\nx-cache: Miss from cloudfront\nvia: 1.1 b2ba542a917451d9d85e07dba0cfd9a4.cloudfront.net (CloudFront)\nx-amz-cf-pop: DFW57-P2\nx-amz-cf-id: Tpcjk886L0xAZzOjuUP-js_7-twE7ZGDZKlkmGHNTjW8hEs7oOWaLg==",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/131",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "If it seems like it's taking a very long time to change over, use a tool like  DNS Checker  to see how various DNS servers see your recent DNS change.",
      "text": "If it seems like it's taking a very long time to change over, use a tool like  DNS Checker  to see how various DNS servers see your recent DNS change."
    },
    {
      "self_ref": "#/texts/132",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Revert (if needed)",
      "text": "Revert (if needed)",
      "level": 1
    },
    {
      "self_ref": "#/texts/133",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "If something went horribly wrong,  DON'T PANIC . \ud83d\ude31",
      "text": "If something went horribly wrong,  DON'T PANIC . \ud83d\ude31"
    },
    {
      "self_ref": "#/texts/134",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "{{< alert >}} DNS is like IT quicksand. Once you get stuck in a problem with DNS, any level of fighting just makes you more stuck. Take a deep breath first. \ud83e\udec1 {{< /alert >}}",
      "text": "{{< alert >}} DNS is like IT quicksand. Once you get stuck in a problem with DNS, any level of fighting just makes you more stuck. Take a deep breath first. \ud83e\udec1 {{< /alert >}}"
    },
    {
      "self_ref": "#/texts/135",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go back to your DNS provide and remove the ALIAS/CNAME record for your CDN domain name, such as ",
      "text": "Go back to your DNS provide and remove the ALIAS/CNAME record for your CDN domain name, such as "
    },
    {
      "self_ref": "#/texts/136",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "example.com",
      "text": "example.com",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/137",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ". Add back in the original A/AAAA/ALIAS/CNAME records that were there previously. Be patient for traffic to shift back to your origin server.",
      "text": ". Add back in the original A/AAAA/ALIAS/CNAME records that were there previously. Be patient for traffic to shift back to your origin server."
    },
    {
      "self_ref": "#/texts/138",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Review the changes you made and look for any errors.",
      "text": "Review the changes you made and look for any errors."
    },
    {
      "self_ref": "#/texts/139",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Configuring Ghost",
      "text": "Configuring Ghost"
    },
    {
      "self_ref": "#/texts/140",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Ghost is fairly easy to put behind a CDN, but it does have some additional caching configuration that you can change if needed. It provides hints to the CDN about what should and should not be cached and for how long. Refer to the  Ghost docs  for details.",
      "text": "Ghost is fairly easy to put behind a CDN, but it does have some additional caching configuration that you can change if needed. It provides hints to the CDN about what should and should not be cached and for how long. Refer to the  Ghost docs  for details."
    },
    {
      "self_ref": "#/texts/141",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I decided to cache requests to the Content API and to the frontend for 60 seconds as a test. My ",
      "text": "I decided to cache requests to the Content API and to the frontend for 60 seconds as a test. My "
    },
    {
      "self_ref": "#/texts/142",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "docker-compose.yml",
      "text": "docker-compose.yml",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/143",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " now looks like this:",
      "text": " now looks like this:"
    },
    {
      "self_ref": "#/texts/144",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "ghost:\n    image: docker.io/library/ghost:5\n    container_name: ghost\n    restart: always\n    depends_on:\n      - ghostdb\n    environment:\n      url: https://thetanerd.com\n      caching__contentAPI__maxAge: 60\n      caching__frontend__maxAge: 60\n      database__client: mysql\n      database__connection__host: ghostdb\n      database__connection__user: ghost\n      database__connection__password: ...\n      database__connection__database: ghostdb\n    volumes:\n      - ghost:/var/lib/ghost/content",
      "text": "ghost:\n    image: docker.io/library/ghost:5\n    container_name: ghost\n    restart: always\n    depends_on:\n      - ghostdb\n    environment:\n      url: https://thetanerd.com\n      caching__contentAPI__maxAge: 60\n      caching__frontend__maxAge: 60\n      database__client: mysql\n      database__connection__host: ghostdb\n      database__connection__user: ghost\n      database__connection__password: ...\n      database__connection__database: ghostdb\n    volumes:\n      - ghost:/var/lib/ghost/content",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/145",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now if I access the main page of the site, I see cache hits in the headers:",
      "text": "Now if I access the main page of the site, I see cache hits in the headers:"
    },
    {
      "self_ref": "#/texts/146",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "HTTP/2 200 \ncontent-type: text/html; charset=utf-8\ncache-control: public, max-age=600\ndate: Mon, 03 Jul 2023 19:54:39 GMT\netag: W/\"19e7b-5MKnFrme/sGk5DT2yvMkbgDsl+4\"\nserver: Caddy\nx-powered-by: Express\nvary: Accept-Encoding\nx-cache: Hit from cloudfront\nvia: 1.1 308bae6dc9384ec8e0a82ba2d96014bc.cloudfront.net (CloudFront)\nx-amz-cf-pop: DFW57-P2\nx-amz-cf-id: 0Dvoc_ST8-FK_TD4lEMQg6-uiDqhaUbYAqbylkiUP61eGcQsZSFEGg==\nage: 7",
      "text": "HTTP/2 200 \ncontent-type: text/html; charset=utf-8\ncache-control: public, max-age=600\ndate: Mon, 03 Jul 2023 19:54:39 GMT\netag: W/\"19e7b-5MKnFrme/sGk5DT2yvMkbgDsl+4\"\nserver: Caddy\nx-powered-by: Express\nvary: Accept-Encoding\nx-cache: Hit from cloudfront\nvia: 1.1 308bae6dc9384ec8e0a82ba2d96014bc.cloudfront.net (CloudFront)\nx-amz-cf-pop: DFW57-P2\nx-amz-cf-id: 0Dvoc_ST8-FK_TD4lEMQg6-uiDqhaUbYAqbylkiUP61eGcQsZSFEGg==\nage: 7",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/147",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The ",
      "text": "The "
    },
    {
      "self_ref": "#/texts/148",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "x-cache",
      "text": "x-cache",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/149",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " header shows a hit and the ",
      "text": " header shows a hit and the "
    },
    {
      "self_ref": "#/texts/150",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "age",
      "text": "age",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/151",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " header says it's been cached for 7 seconds.",
      "text": " header says it's been cached for 7 seconds."
    },
    {
      "self_ref": "#/texts/152",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Enjoy your new CDN-accelerated Ghost blog! \ud83d\udc07",
      "text": "Enjoy your new CDN-accelerated Ghost blog! \ud83d\udc07"
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}