{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "myfile",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 1422517936607568714,
    "filename": "myfile.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/texts/1"
      },
      {
        "$ref": "#/texts/2"
      },
      {
        "$ref": "#/groups/0"
      },
      {
        "$ref": "#/texts/5"
      },
      {
        "$ref": "#/texts/6"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/texts/11"
      },
      {
        "$ref": "#/texts/12"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/texts/14"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/texts/20"
      },
      {
        "$ref": "#/texts/21"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/texts/25"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [
    {
      "self_ref": "#/groups/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [
        {
          "$ref": "#/texts/3"
        },
        {
          "$ref": "#/texts/4"
        }
      ],
      "content_layer": "body",
      "name": "list",
      "label": "ordered_list"
    }
  ],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Hetzner Cloud provides high performance cloud instances with excellent network connectivity at a reasonable price. They have two US regions (Virginia and Oregon) that give me good latency numbers here in Texas.",
      "text": "Hetzner Cloud provides high performance cloud instances with excellent network connectivity at a reasonable price. They have two US regions (Virginia and Oregon) that give me good latency numbers here in Texas."
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "However, they modify some of the Linux images they offer. This ensures every image looks similar when it boots, but it means that Fedora in one cloud doesn't behave like Fedora in another cloud. (They're not the only cloud that makes these changes.)",
      "text": "However, they modify some of the Linux images they offer. This ensures every image looks similar when it boots, but it means that Fedora in one cloud doesn't behave like Fedora in another cloud. (They're not the only cloud that makes these changes.)"
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The modifications frustrate me for two reasons:",
      "text": "The modifications frustrate me for two reasons:"
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "I automate nearly everything and I expect images to match in different clouds.",
      "text": "I automate nearly everything and I expect images to match in different clouds.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/groups/0"
      },
      "children": [],
      "content_layer": "body",
      "label": "list_item",
      "prov": [],
      "orig": "I want to use the unaltered image that went through Fedora's QA process.",
      "text": "I want to use the unaltered image that went through Fedora's QA process.",
      "enumerated": false,
      "marker": "-"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fortunately for us, Hetzner offers all the tools we need to deploy our own genuine image. Let's get started! \ud83d\udd27",
      "text": "Fortunately for us, Hetzner offers all the tools we need to deploy our own genuine image. Let's get started! \ud83d\udd27"
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Preparing for a snapshot",
      "text": "Preparing for a snapshot"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We need a small instance to make our initial snapshot. Our first step is to make a cloud-init configuration. Here's mine (be sure to change usernames and keys for yours):",
      "text": "We need a small instance to make our initial snapshot. Our first step is to make a cloud-init configuration. Here's mine (be sure to change usernames and keys for yours):"
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "#cloud-config\nusers:\n  - name: major\n    primary_group: major\n    groups:\n      - sudo\n      - wheel\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIcfW3YMH2Z6NpRnmy+hPnYVkOcxNWLdn9VmrIEq3H0Ei0qWA8RL6Bw6kBfuxW+UGYn1rrDBjz2BoOunWPP0VRM= major@amdbox",
      "text": "#cloud-config\nusers:\n  - name: major\n    primary_group: major\n    groups:\n      - sudo\n      - wheel\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIcfW3YMH2Z6NpRnmy+hPnYVkOcxNWLdn9VmrIEq3H0Ei0qWA8RL6Bw6kBfuxW+UGYn1rrDBjz2BoOunWPP0VRM= major@amdbox",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We could create the instance using the web console, but I prefer to use  hcloud . Fedora users can simply run ",
      "text": "We could create the instance using the web console, but I prefer to use  hcloud . Fedora users can simply run "
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "dnf install hcloud",
      "text": "dnf install hcloud",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " to get the CLI installed quickly.",
      "text": " to get the CLI installed quickly."
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's use the CLI to start our instance:",
      "text": "Let's use the CLI to start our instance:"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud image list | grep fedora\n69726282   system     fedora-36            Fedora 36            -            5 GB        Wed May 11 00:50:00 CDT 2022   -\n$ cat cloud-init.cfg | hcloud server create \\\n    --location ash \\\n    --image 69726282 \\\n    --name snapshotter \\ \n    --type cpx11 \\\n    --user-data-from-file -",
      "text": "$ hcloud image list | grep fedora\n69726282   system     fedora-36            Fedora 36            -            5 GB        Wed May 11 00:50:00 CDT 2022   -\n$ cat cloud-init.cfg | hcloud server create \\\n    --location ash \\\n    --image 69726282 \\\n    --name snapshotter \\ \n    --type cpx11 \\\n    --user-data-from-file -",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once the instance finishes building, make a note of the server number in the output.",
      "text": "Once the instance finishes building, make a note of the server number in the output."
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's put the server into rescue mode so we can have full access to the disk:",
      "text": "Let's put the server into rescue mode so we can have full access to the disk:"
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server enable-rescue 26341155\n1.2s [===================================] 100.00%\nRescue enabled for server 26341155 with root password: *****",
      "text": "$ hcloud server enable-rescue 26341155\n1.2s [===================================] 100.00%\nRescue enabled for server 26341155 with root password: *****",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Connect to the server via ssh using the root password from the rescue output. Once we're connected, look for the root disk. Then we download the image and extract it to the root disk directly:",
      "text": "Connect to the server via ssh using the root password from the rescue output. Once we're connected, look for the root disk. Then we download the image and extract it to the root disk directly:"
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "# fdisk -l\nDisk /dev/sda: 38.15 GiB, 40961572864 bytes, 80003072 sectors\nDisk model: QEMU HARDDISK   \nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: gpt\nDisk identifier: 170D9ADF-A82F-4F14-975A-CA9603329ABA\n\nDevice      Start      End  Sectors  Size Type\n/dev/sda1  135168 80003038 79867871 38.1G Linux filesystem\n/dev/sda14   2048   133119   131072   64M EFI System\n/dev/sda15 133120   135167     2048    1M BIOS boot\n# export IMAGE_URL=https://mirrors.kernel.org/fedora/releases/37/Cloud/x86_64/images/Fedora-Cloud-Base-37-1.7.x86_64.raw.xz\n# curl -s $IMAGE_URL | xz -d - | dd of=/dev/sda status=progress\n5343543808 bytes (5.3 GB, 5.0 GiB) copied, 172 s, 31.1 MB/s\n10485760+0 records in\n10485760+0 records out\n5368709120 bytes (5.4 GB, 5.0 GiB) copied, 172.625 s, 31.1 MB/s",
      "text": "# fdisk -l\nDisk /dev/sda: 38.15 GiB, 40961572864 bytes, 80003072 sectors\nDisk model: QEMU HARDDISK   \nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: gpt\nDisk identifier: 170D9ADF-A82F-4F14-975A-CA9603329ABA\n\nDevice      Start      End  Sectors  Size Type\n/dev/sda1  135168 80003038 79867871 38.1G Linux filesystem\n/dev/sda14   2048   133119   131072   64M EFI System\n/dev/sda15 133120   135167     2048    1M BIOS boot\n# export IMAGE_URL=https://mirrors.kernel.org/fedora/releases/37/Cloud/x86_64/images/Fedora-Cloud-Base-37-1.7.x86_64.raw.xz\n# curl -s $IMAGE_URL | xz -d - | dd of=/dev/sda status=progress\n5343543808 bytes (5.3 GB, 5.0 GiB) copied, 172 s, 31.1 MB/s\n10485760+0 records in\n10485760+0 records out\n5368709120 bytes (5.4 GB, 5.0 GiB) copied, 172.625 s, 31.1 MB/s",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "At this point, the root disk of the instance now holds the genuine Fedora 37 cloud image from the GA release. We don't want to boot it before we capture it, so let's disconnect the ssh session and then power off the instance:",
      "text": "At this point, the root disk of the instance now holds the genuine Fedora 37 cloud image from the GA release. We don't want to boot it before we capture it, so let's disconnect the ssh session and then power off the instance:"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server poweroff 26341155                                                                                                                                                                               \n4.9s [===================================] 100.00%\nServer 26341155 stopped",
      "text": "$ hcloud server poweroff 26341155                                                                                                                                                                               \n4.9s [===================================] 100.00%\nServer 26341155 stopped",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "Make the snapshot",
      "text": "Make the snapshot"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Take a snapshot of the root disk that contains the Fedora cloud image:",
      "text": "Take a snapshot of the root disk that contains the Fedora cloud image:"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server create-image \\\n    --description \"Fedora 37 GA image\" \\\n    --type snapshot 26341155                                                                                                                        \n51s [====================================] 100.00%\nImage 91884132 created from server 26341155",
      "text": "$ hcloud server create-image \\\n    --description \"Fedora 37 GA image\" \\\n    --type snapshot 26341155                                                                                                                        \n51s [====================================] 100.00%\nImage 91884132 created from server 26341155",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Let's get all of the available data about our snapshot:",
      "text": "Let's get all of the available data about our snapshot:"
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud image describe 91884132                                                                                                                                                                                \nID:\t\t    91884132\nType:\t\tsnapshot\nStatus:\t\tavailable\nName:\t\t-\nCreated:\tThu Dec  8 14:20:10 CST 2022 (1 minute ago)\nDescription:\tFedora 37 GA image\nImage size:\t0.41 GB\nDisk size:\t40 GB\nOS flavor:\tfedora\nOS version:\t-\nRapid deploy:\tno\nProtection:\n  Delete:\tno\nLabels:\n  No labels",
      "text": "$ hcloud image describe 91884132                                                                                                                                                                                \nID:\t\t    91884132\nType:\t\tsnapshot\nStatus:\t\tavailable\nName:\t\t-\nCreated:\tThu Dec  8 14:20:10 CST 2022 (1 minute ago)\nDescription:\tFedora 37 GA image\nImage size:\t0.41 GB\nDisk size:\t40 GB\nOS flavor:\tfedora\nOS version:\t-\nRapid deploy:\tno\nProtection:\n  Delete:\tno\nLabels:\n  No labels",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now you can build instances from the snapshot! In my case, I would adjust my original server create command to use image ",
      "text": "Now you can build instances from the snapshot! In my case, I would adjust my original server create command to use image "
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "91884132",
      "text": "91884132",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": ":",
      "text": ":"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ cat cloud-init.cfg | hcloud server create \\\n    --location ash \\\n    --image 91884132 \\\n    --name snapshotter \\ \n    --type cpx11 \\\n    --user-data-from-file -",
      "text": "$ cat cloud-init.cfg | hcloud server create \\\n    --location ash \\\n    --image 91884132 \\\n    --name snapshotter \\ \n    --type cpx11 \\\n    --user-data-from-file -",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "title",
      "prov": [],
      "orig": "\ud83e\uddf9 Clean up before you go!",
      "text": "\ud83e\uddf9 Clean up before you go!"
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Nothing is worse than getting a surprise bill at the end of the month for cloud infrastructure that you forgot you had! In this case, a  CPX11  instance should cost you less than $5 per month. It could be worse. \ud83e\udd2d",
      "text": "Nothing is worse than getting a surprise bill at the end of the month for cloud infrastructure that you forgot you had! In this case, a  CPX11  instance should cost you less than $5 per month. It could be worse. \ud83e\udd2d"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Clean it up easily with one command:",
      "text": "Clean it up easily with one command:"
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ hcloud server delete 26341155                                                                                                                                                                                 \nServer 26341155 deleted",
      "text": "$ hcloud server delete 26341155                                                                                                                                                                                 \nServer 26341155 deleted",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}