{
  "schema_name": "DoclingDocument",
  "version": "1.4.0",
  "name": "myfile",
  "origin": {
    "mimetype": "text/markdown",
    "binary_hash": 13724706701523194219,
    "filename": "myfile.md"
  },
  "furniture": {
    "self_ref": "#/furniture",
    "children": [],
    "content_layer": "furniture",
    "name": "_root_",
    "label": "unspecified"
  },
  "body": {
    "self_ref": "#/body",
    "children": [
      {
        "$ref": "#/texts/0"
      },
      {
        "$ref": "#/texts/1"
      },
      {
        "$ref": "#/texts/2"
      },
      {
        "$ref": "#/texts/3"
      },
      {
        "$ref": "#/texts/4"
      },
      {
        "$ref": "#/texts/5"
      },
      {
        "$ref": "#/texts/6"
      },
      {
        "$ref": "#/texts/7"
      },
      {
        "$ref": "#/texts/8"
      },
      {
        "$ref": "#/texts/9"
      },
      {
        "$ref": "#/texts/10"
      },
      {
        "$ref": "#/texts/11"
      },
      {
        "$ref": "#/texts/12"
      },
      {
        "$ref": "#/texts/13"
      },
      {
        "$ref": "#/texts/14"
      },
      {
        "$ref": "#/texts/15"
      },
      {
        "$ref": "#/texts/16"
      },
      {
        "$ref": "#/texts/17"
      },
      {
        "$ref": "#/texts/18"
      },
      {
        "$ref": "#/texts/19"
      },
      {
        "$ref": "#/texts/20"
      },
      {
        "$ref": "#/texts/21"
      },
      {
        "$ref": "#/texts/22"
      },
      {
        "$ref": "#/texts/23"
      },
      {
        "$ref": "#/texts/24"
      },
      {
        "$ref": "#/texts/25"
      },
      {
        "$ref": "#/texts/26"
      },
      {
        "$ref": "#/texts/27"
      },
      {
        "$ref": "#/texts/28"
      },
      {
        "$ref": "#/texts/29"
      },
      {
        "$ref": "#/texts/30"
      },
      {
        "$ref": "#/texts/31"
      },
      {
        "$ref": "#/texts/32"
      },
      {
        "$ref": "#/texts/33"
      },
      {
        "$ref": "#/texts/34"
      },
      {
        "$ref": "#/texts/35"
      },
      {
        "$ref": "#/texts/36"
      },
      {
        "$ref": "#/texts/37"
      },
      {
        "$ref": "#/texts/38"
      },
      {
        "$ref": "#/texts/39"
      },
      {
        "$ref": "#/texts/40"
      },
      {
        "$ref": "#/texts/41"
      },
      {
        "$ref": "#/texts/42"
      },
      {
        "$ref": "#/texts/43"
      },
      {
        "$ref": "#/texts/44"
      },
      {
        "$ref": "#/texts/45"
      },
      {
        "$ref": "#/texts/46"
      },
      {
        "$ref": "#/texts/47"
      },
      {
        "$ref": "#/texts/48"
      },
      {
        "$ref": "#/texts/49"
      },
      {
        "$ref": "#/texts/50"
      },
      {
        "$ref": "#/texts/51"
      },
      {
        "$ref": "#/texts/52"
      },
      {
        "$ref": "#/texts/53"
      }
    ],
    "content_layer": "body",
    "name": "_root_",
    "label": "unspecified"
  },
  "groups": [],
  "texts": [
    {
      "self_ref": "#/texts/0",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fedora 30 is my primary operating system for desktops and servers, so I usually try to take it everywhere I go. I was recently doing some benchmarking for kernel compiles on different cloud plaforms and I noticed that Fedora isn't included in Google Compute Engine's default list of operating system images.",
      "text": "Fedora 30 is my primary operating system for desktops and servers, so I usually try to take it everywhere I go. I was recently doing some benchmarking for kernel compiles on different cloud plaforms and I noticed that Fedora isn't included in Google Compute Engine's default list of operating system images."
    },
    {
      "self_ref": "#/texts/1",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "(Note: Fedora does include links to quick start an Amazon EC2 instance with their  pre-built AMI's . They are superb!)",
      "text": "(Note: Fedora does include links to quick start an Amazon EC2 instance with their  pre-built AMI's . They are superb!)"
    },
    {
      "self_ref": "#/texts/2",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "First try",
      "text": "First try",
      "level": 1
    },
    {
      "self_ref": "#/texts/3",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Fedora does offer cloud images in raw and qcow2 formats, so I decided to give that a try. Start by downloading the image, decompressing it, and then repackaging the image into a tarball.",
      "text": "Fedora does offer cloud images in raw and qcow2 formats, so I decided to give that a try. Start by downloading the image, decompressing it, and then repackaging the image into a tarball."
    },
    {
      "self_ref": "#/texts/4",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ wget http://mirrors.kernel.org/fedora/releases/30/Cloud/x86_64/images/Fedora-Cloud-Base-30-1.2.x86_64.raw.xz\n$ xz -d Fedora-Cloud-Base-30-1.2.x86_64.raw.xz\n$ mv Fedora-Cloud-Base-30-1.2.x86_64.raw disk.raw\n$ tar cvzf fedora-30-google-cloud.tar.gz disk.raw",
      "text": "$ wget http://mirrors.kernel.org/fedora/releases/30/Cloud/x86_64/images/Fedora-Cloud-Base-30-1.2.x86_64.raw.xz\n$ xz -d Fedora-Cloud-Base-30-1.2.x86_64.raw.xz\n$ mv Fedora-Cloud-Base-30-1.2.x86_64.raw disk.raw\n$ tar cvzf fedora-30-google-cloud.tar.gz disk.raw",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/5",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Once that's done, create a bucket on Google storage and upload the tarball.",
      "text": "Once that's done, create a bucket on Google storage and upload the tarball."
    },
    {
      "self_ref": "#/texts/6",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ gsutil mb gs://fedora-cloud-base-30-image\n$ gsutil cp fedora-30-google-cloud.tar.gz gs://fedora-cloud-image-30/",
      "text": "$ gsutil mb gs://fedora-cloud-base-30-image\n$ gsutil cp fedora-30-google-cloud.tar.gz gs://fedora-cloud-image-30/",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/7",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Uploading 300MB on my 10mbit/sec uplink was a slow process. When that's done, tell Google Compute Engine that we want a new image made from this raw disk we uploaded:",
      "text": "Uploading 300MB on my 10mbit/sec uplink was a slow process. When that's done, tell Google Compute Engine that we want a new image made from this raw disk we uploaded:"
    },
    {
      "self_ref": "#/texts/8",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ gcloud compute images create --source-uri \\\n    gs://fedora-cloud-image-30/fedora-30-google-cloud.tar.gz \\\n    fedora-30-google-cloud",
      "text": "$ gcloud compute images create --source-uri \\\n    gs://fedora-cloud-image-30/fedora-30-google-cloud.tar.gz \\\n    fedora-30-google-cloud",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/9",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "After a few minutes, a new custom image called ",
      "text": "After a few minutes, a new custom image called "
    },
    {
      "self_ref": "#/texts/10",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "fedora-30-google-cloud",
      "text": "fedora-30-google-cloud",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/11",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " will appear in the list of images in Google Compute Engine.",
      "text": " will appear in the list of images in Google Compute Engine."
    },
    {
      "self_ref": "#/texts/12",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    PENDING\n$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    PENDING\n$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    READY",
      "text": "$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    PENDING\n$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    PENDING\n$ gcloud compute images list | grep -i fedora\nfedora-30-google-cloud   major-hayden-20150520    READY",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/13",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "I opened a browser, ventured to the  Google Compute Engine console , and built a new VM with my image.",
      "text": "I opened a browser, ventured to the  Google Compute Engine console , and built a new VM with my image."
    },
    {
      "self_ref": "#/texts/14",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Problems abound",
      "text": "Problems abound",
      "level": 1
    },
    {
      "self_ref": "#/texts/15",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "However, there are problems when the instance starts up. The serial console has plenty of errors:",
      "text": "However, there are problems when the instance starts up. The serial console has plenty of errors:"
    },
    {
      "self_ref": "#/texts/16",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "DataSourceGCE.py[WARNING]: address \"http://metadata.google.internal/computeMetadata/v1/\" is not resolvable",
      "text": "DataSourceGCE.py[WARNING]: address \"http://metadata.google.internal/computeMetadata/v1/\" is not resolvable",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/17",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Obviously something is wrong with DNS. It's apparent that ",
      "text": "Obviously something is wrong with DNS. It's apparent that "
    },
    {
      "self_ref": "#/texts/18",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "cloud-init",
      "text": "cloud-init",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/19",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " is stuck in a bad loop:",
      "text": " is stuck in a bad loop:"
    },
    {
      "self_ref": "#/texts/20",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [87/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [93/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [99/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [105/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [112/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [119/120s]: unexpected error [Attempted to set connect timeout to 0.0, but the timeout cannot be set to a value less than or equal to 0.]\nDataSourceEc2.py[CRITICAL]: Giving up on md from ['http://169.254.169.254/2009-04-04/meta-data/instance-id'] after 126 seconds",
      "text": "url_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [87/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [93/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [99/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [105/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [112/120s]: bad status code [404]\nurl_helper.py[WARNING]: Calling 'http://169.254.169.254/2009-04-04/meta-data/instance-id' failed [119/120s]: unexpected error [Attempted to set connect timeout to 0.0, but the timeout cannot be set to a value less than or equal to 0.]\nDataSourceEc2.py[CRITICAL]: Giving up on md from ['http://169.254.169.254/2009-04-04/meta-data/instance-id'] after 126 seconds",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/21",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Those are EC2-type metadata queries and they won't work here. The instance also has no idea how to set up networking:",
      "text": "Those are EC2-type metadata queries and they won't work here. The instance also has no idea how to set up networking:"
    },
    {
      "self_ref": "#/texts/22",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "Cloud-init v. 17.1 running 'init' at Wed, 07 Aug 2019 18:27:07 +0000. Up 17.50 seconds.\nci-info: +++++++++++++++++++++++++++Net device info++++++++++++++++++++++++++++\nci-info: +--------+-------+-----------+-----------+-------+-------------------+\nci-info: | Device |   Up  |  Address  |    Mask   | Scope |     Hw-Address    |\nci-info: +--------+-------+-----------+-----------+-------+-------------------+\nci-info: | eth0:  | False |     .     |     .     |   .   | 42:01:0a:f0:00:5f |\nci-info: |  lo:   |  True | 127.0.0.1 | 255.0.0.0 |   .   |         .         |\nci-info: |  lo:   |  True |     .     |     .     |   d   |         .         |\nci-info: +--------+-------+-----------+-----------+-------+-------------------+",
      "text": "Cloud-init v. 17.1 running 'init' at Wed, 07 Aug 2019 18:27:07 +0000. Up 17.50 seconds.\nci-info: +++++++++++++++++++++++++++Net device info++++++++++++++++++++++++++++\nci-info: +--------+-------+-----------+-----------+-------+-------------------+\nci-info: | Device |   Up  |  Address  |    Mask   | Scope |     Hw-Address    |\nci-info: +--------+-------+-----------+-----------+-------+-------------------+\nci-info: | eth0:  | False |     .     |     .     |   .   | 42:01:0a:f0:00:5f |\nci-info: |  lo:   |  True | 127.0.0.1 | 255.0.0.0 |   .   |         .         |\nci-info: |  lo:   |  True |     .     |     .     |   d   |         .         |\nci-info: +--------+-------+-----------+-----------+-------+-------------------+",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/23",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "This image is set up well for Amazon, but it needs some work to work at Google.",
      "text": "This image is set up well for Amazon, but it needs some work to work at Google."
    },
    {
      "self_ref": "#/texts/24",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "section_header",
      "prov": [],
      "orig": "Fixing up the image",
      "text": "Fixing up the image",
      "level": 1
    },
    {
      "self_ref": "#/texts/25",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Go back to the ",
      "text": "Go back to the "
    },
    {
      "self_ref": "#/texts/26",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "disk.raw",
      "text": "disk.raw",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/27",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " that we made in the first step of the blog post. We need to mount that disk, mount some additional filesystems, and chroot into the Fedora 30 installation on the raw disk.",
      "text": " that we made in the first step of the blog post. We need to mount that disk, mount some additional filesystems, and chroot into the Fedora 30 installation on the raw disk."
    },
    {
      "self_ref": "#/texts/28",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Start by making a loop device for the raw disk and enumerating its partitions:",
      "text": "Start by making a loop device for the raw disk and enumerating its partitions:"
    },
    {
      "self_ref": "#/texts/29",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo losetup  /dev/loop0 disk.raw\n$ kpartx -a /dev/loop0",
      "text": "$ sudo losetup  /dev/loop0 disk.raw\n$ kpartx -a /dev/loop0",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/30",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Make a mountpoint and mount the first partition on that mountpoint:",
      "text": "Make a mountpoint and mount the first partition on that mountpoint:"
    },
    {
      "self_ref": "#/texts/31",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo mkdir /mnt/disk\n$ sudo mount /dev/mapper/loop0p1 /mnt/disk",
      "text": "$ sudo mkdir /mnt/disk\n$ sudo mount /dev/mapper/loop0p1 /mnt/disk",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/32",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "We need some extra filesystems mounted before we can run certain commands in the chroot:",
      "text": "We need some extra filesystems mounted before we can run certain commands in the chroot:"
    },
    {
      "self_ref": "#/texts/33",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo mount --bind /dev /mnt/disk/dev\n$ sudo mount --bind /sys /mnt/disk/sys\n$ sudo mount --bind /proc /mnt/disk/proc",
      "text": "$ sudo mount --bind /dev /mnt/disk/dev\n$ sudo mount --bind /sys /mnt/disk/sys\n$ sudo mount --bind /proc /mnt/disk/proc",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/34",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Now we can hop into the chroot:",
      "text": "Now we can hop into the chroot:"
    },
    {
      "self_ref": "#/texts/35",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo chroot /mnt/disk",
      "text": "$ sudo chroot /mnt/disk",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/36",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "From inside the chroot, remove ",
      "text": "From inside the chroot, remove "
    },
    {
      "self_ref": "#/texts/37",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "cloud-init",
      "text": "cloud-init",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/38",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " and install",
      "text": " and install"
    },
    {
      "self_ref": "#/texts/39",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "google-compute-engine-tools",
      "text": "google-compute-engine-tools",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/40",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " to help with Google cloud:",
      "text": " to help with Google cloud:"
    },
    {
      "self_ref": "#/texts/41",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ dnf -y remove cloud-init\n$ dnf -y install google-compute-engine-tools\n$ dnf clean all",
      "text": "$ dnf -y remove cloud-init\n$ dnf -y install google-compute-engine-tools\n$ dnf clean all",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/42",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "The ",
      "text": "The "
    },
    {
      "self_ref": "#/texts/43",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "google-compute-engine-tools",
      "text": "google-compute-engine-tools",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/44",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " package has lots of services that help with running on Google cloud. We need to enable each one to run at boot time:",
      "text": " package has lots of services that help with running on Google cloud. We need to enable each one to run at boot time:"
    },
    {
      "self_ref": "#/texts/45",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ systemctl enable google-accounts-daemon google-clock-skew-daemon \\\n    google-instance-setup google-network-daemon \\\n    google-shutdown-scripts google-startup-scripts",
      "text": "$ systemctl enable google-accounts-daemon google-clock-skew-daemon \\\n    google-instance-setup google-network-daemon \\\n    google-shutdown-scripts google-startup-scripts",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/46",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "To learn more about these daemons and what they do, head on over to the",
      "text": "To learn more about these daemons and what they do, head on over to the"
    },
    {
      "self_ref": "#/texts/47",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "GitHub page",
      "text": "GitHub page",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/48",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": " for the package.",
      "text": " for the package."
    },
    {
      "self_ref": "#/texts/49",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Exit the chroot and get back to your main system. Now that we have this image just like we want it, it's time to unmount the image and send it to the cloud:",
      "text": "Exit the chroot and get back to your main system. Now that we have this image just like we want it, it's time to unmount the image and send it to the cloud:"
    },
    {
      "self_ref": "#/texts/50",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "$ sudo umount /mnt/disk/dev /mnt/disk/sys /mnt/disk/proc\n$ sudo umount /mnt/disk\n$ sudo losetup -d /dev/loop0\n$ tar cvzf fedora-30-google-cloud-fixed.tar.gz disk.raw\n$ gsutil cp fedora-30-google-cloud-fixed.tar.gz gs://fedora-cloud-image-30/\n$ gcloud compute images create --source-uri \\\n    gs://fedora-cloud-image-30/fedora-30-google-cloud-fixed.tar.gz \\\n    fedora-30-google-cloud-fixed",
      "text": "$ sudo umount /mnt/disk/dev /mnt/disk/sys /mnt/disk/proc\n$ sudo umount /mnt/disk\n$ sudo losetup -d /dev/loop0\n$ tar cvzf fedora-30-google-cloud-fixed.tar.gz disk.raw\n$ gsutil cp fedora-30-google-cloud-fixed.tar.gz gs://fedora-cloud-image-30/\n$ gcloud compute images create --source-uri \\\n    gs://fedora-cloud-image-30/fedora-30-google-cloud-fixed.tar.gz \\\n    fedora-30-google-cloud-fixed",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/51",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Start a new instance with this fixed image and watch it boot in the serial console:",
      "text": "Start a new instance with this fixed image and watch it boot in the serial console:"
    },
    {
      "self_ref": "#/texts/52",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "code",
      "prov": [],
      "orig": "[   10.379253] RAPL PMU: API unit is 2^-32 Joules, 3 fixed counters, 10737418240 ms ovfl timer\n[   10.381350] RAPL PMU: hw unit of domain pp0-core 2^-0 Joules\n[   10.382487] RAPL PMU: hw unit of domain package 2^-0 Joules\n[   10.383415] RAPL PMU: hw unit of domain dram 2^-16 Joules\n[   10.503233] EDAC sbridge:  Ver: 1.1.2\n\n\nFedora 30 (Cloud Edition)\nKernel 5.1.20-300.fc30.x86_64 on an x86_64 (ttyS0)\n\ninstance-2 login:",
      "text": "[   10.379253] RAPL PMU: API unit is 2^-32 Joules, 3 fixed counters, 10737418240 ms ovfl timer\n[   10.381350] RAPL PMU: hw unit of domain pp0-core 2^-0 Joules\n[   10.382487] RAPL PMU: hw unit of domain package 2^-0 Joules\n[   10.383415] RAPL PMU: hw unit of domain dram 2^-16 Joules\n[   10.503233] EDAC sbridge:  Ver: 1.1.2\n\n\nFedora 30 (Cloud Edition)\nKernel 5.1.20-300.fc30.x86_64 on an x86_64 (ttyS0)\n\ninstance-2 login:",
      "captions": [],
      "references": [],
      "footnotes": [],
      "code_language": "unknown"
    },
    {
      "self_ref": "#/texts/53",
      "parent": {
        "$ref": "#/body"
      },
      "children": [],
      "content_layer": "body",
      "label": "paragraph",
      "prov": [],
      "orig": "Yes! A ten second boot with networking is exactly what I needed.",
      "text": "Yes! A ten second boot with networking is exactly what I needed."
    }
  ],
  "pictures": [],
  "tables": [],
  "key_value_items": [],
  "form_items": [],
  "pages": {}
}